{"version":3,"file":"bundle.js","sources":["../src/Config.js","../src/Tooltip.js","../src/Simulation.js","../src/Layout.js","../src/main.js","../src/Utils.js"],"sourcesContent":["// set the dimensions and margins of the graph\nexport const margin = {top: 50, right: 50, bottom: 50, left: 50},\n    width = 1600 - margin.left - margin.right,\n    height = 1600 - margin.top - margin.bottom,\n    svg_width = width + margin.left + margin.right,\n    svg_height = height + margin.top + margin.bottom;\n","// use a tooltip to show node info\nexport const tooltip_div = d3.select(\"body\")\n   .append(\"tooltip_div\")\n   .attr(\"class\", \"tooltip\")\n   .style(\"opacity\", 0)\n   .style(\"display\", \"none\");\n\nexport const highlight = (d) => {\n    if (d.is_country_of_infection) {\n        return;\n    };\n \n    let left = d3.event.pageX -20;\n    let top = d3.event.pageY + 20;\n \n    if (window.innerWidth - left < 150){\n      left = d3.event.pageX - 40;\n    }\n \n    tooltip_div.transition()\n        .duration(200)\n        .style(\"opacity\", .9);\n \n    tooltip_div.html(tooltipHTML(d))\n        .style(\"left\", left + 'px')\n        .style(\"top\", top + 'px')\n        .style(\"display\", null);\n};\n\nexport const tooltipHTML = (d) => {\n    if (d.properties !== undefined) {\n        return \"<b>Cazul \" + d.properties.case_no + \"</b><br />\" +\n       (d.properties.gender === 'Bărbat'\n            ? \"Bărbat\"\n            : (d.properties.gender === 'Femeie'\n                ? \"Femeie\"\n                : \"Gen nespecificat\")) +\n       (d.properties.age != null && d.properties.age != 0 ? (\", \" + d.properties.age) : \"\") +\n       (d.properties.county != null && d.properties.county != \"\" ? (\", din  \" + d.properties.county) : \"\") + \".<br />\" +\n       (d.properties.status != null\n           ? (\"Status: \" + (d.properties.status === \"Vindecat\"\n                ? \"vindecat\"\n                : (d.properties.status === \"Confirmat\"\n                    ? \"confirmat\"\n                    : \"deces\")) + \".<br />\")\n           : \"\") +\n       (d.properties.healing_date !== null ? (\"Data recuperării: \" + d.properties.healing_date + \".<br />\") : \"\") +\n       (d.properties.reference !== null && d.properties.reference !== \"\" ? (\"Detalii: \" + '<a href=\"' + d.properties.reference + '\" target= \"_blank\">aici</a>') : \"\");\n    } else {\n        return d.name;\n    };\n};\n\nexport const unHighlight = () => {\n    tooltip_div.transition()\n        .duration(200)\n        .style(\"opacity\", 0);\n};\n","// simulation drag\nexport const drag = simulation => {\n    const dragstarted = d => {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n    }\n\n    const dragged = d => {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n    }\n\n    const dragended = d => {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n    }\n\n    return d3.drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended);\n};\n\n// simulation link\nexport const linkArc = d => {\n    const r = Math.hypot(d.target.x - d.source.x, d.target.y - d.source.y);\n    return `\n      M${d.source.x},${d.source.y}\n      A${r},${r} 0 0,1 ${d.target.x},${d.target.y}\n    `;\n};","export const statusColor = d3.scaleOrdinal([\"var(--main-confirmate)\", \"var(--main-recuperari\", \"var(--main-decese)\"]).domain([\"Confirmat\", \"Vindecat\", \"Decedat\"]);\n\nexport const countyColors = [\"#4cbf84\", \"#8e6def\", \"#c0c72d\", \"#605fd6\", \"#64bf44\", \"#bc5fd4\", \"#4ac66b\", \"#c946a2\", \"#9cbe3a\", \"#5581f2\", \"#e8ab24\", \"#8575db\", \"#f0cc6b\", \"#4f8be2\", \"#dd6227\", \"#41d1e8\", \"#e04845\", \"#4bd1b1\", \"#e14286\", \"#6cad66\", \"#dd6acc\", \"#80a84c\", \"#8567bb\", \"#b6a546\", \"#af8ee6\", \"#c9793e\", \"#5a90d4\", \"#d84f59\", \"#57c8c6\", \"#d36272\", \"#50a283\", \"#d26d98\", \"#8ba76d\", \"#9b6bb2\", \"#b59d58\", \"#e6a2e7\", \"#c98762\", \"#59a3d0\", \"#ca7b78\", \"#9a97d2\", \"#c382a5\", \"#b872ad\"];\n\nexport const coloreazaStatus = () => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : (d.parent && d.parent.properties\n                    ? statusColor(d.parent.properties.status)\n                    : d.properties ? statusColor(d.properties.status) : \"black\");\n        });\n\n    createLegend(statusColor);\n}\n\nexport const coloreazaJudete = (countyColor) => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : (d.parent && d.parent.properties\n                        ? countyColor(d.parent.properties.county)\n                        : d.properties ? countyColor(d.properties.county) : \"\");\n        });\n\n    createLegend(countyColor);\n}\n\nexport const createLegend = (colorScale) => {\n    let svg = d3.select(\"#chart\").select('svg');\n    let x = 20, y = 50;\n\n    svg.selectAll('.category-legend')\n        .attr('transform', `translate(${x},${y})`);\n\n    const categoryLegend = d3.legendColor()\n                            .shape('path', d3.symbol().type(d3.symbolCircle).size(150)())\n                            .shapePadding(10)\n                            .scale(colorScale);\n\n    d3.select('.category-legend')\n        .call(categoryLegend);\n}","import * as Config from './Config';\nimport * as Tooltip from './Tooltip';\nimport * as Simulation from './Simulation';\nimport * as Utils from './Utils';\nimport * as Layout from './Layout';\n\nlet dataset, graph = {nodes: [], links: []};\nlet simulation, link, node;\n\nd3.json(\"https://covid19.geo-spatial.org/api/statistics/getCaseRelations\").then( data => {\n\n    dataset = data;\n\n    setupGraph();\n    setTimeout(drawGraph(), 100);\n});\n\nconst setupGraph = () => {\n\n    const sources = dataset.data.nodes.filter( d => d.properties.country_of_infection !== null && d.properties.country_of_infection !== \"România\" && d.properties.country_of_infection !== \"Romania\");\n\n    // https://observablehq.com/d/cedc594061a988c6\n    graph.nodes = dataset.data.nodes.concat(Array.from(new Set(sources.map(d => d.properties.country_of_infection)), name => ({name})));\n    graph.links = dataset.data.links.concat(sources.map(d => ({target: d.name, source: d.properties.country_of_infection})));\n\n}\n\nconst drawGraph = () => {\n\n    // Zoom by scroll, pan\n    const zoom_actions = () => {\n        g.attr(\"transform\", d3.event.transform);\n    }            \n    const zoom_handler = d3.zoom()\n        .on(\"zoom\", zoom_actions);\n\n    // Change colors from status to counties and vice versa\n    const counties = Array.from(new Set(graph.nodes\n        .filter(d => d.properties)\n        .map(d => d.properties && d.properties.county)))\n        .sort((a,b) => d3.ascending(a,b));\n    const countyColor = d3.scaleOrdinal(Layout.countyColors).domain(counties);\n\n    d3.select(\"#switch-colors\")\n        .on(\"click\", function(){\n            var button = d3.select(this);\n            if (button.text() === \"Colorează județe\"){\n                Layout.coloreazaJudete(countyColor);\n                button.text(\"Colorează status\");\n            } else {\n                Layout.coloreazaStatus(Layout.statusColor);\n                button.text(\"Colorează județe\");\n            };\n        });\n\n    // Case slider to highlight nodes by id\n    // https://bl.ocks.org/d3noob/c4b31a539304c29767a56c2373eeed79/9d18fc47e580d8c940ffffea1179e77e62647e36\n    const cases = Array.from(new Set(graph.nodes.map(d => d.properties ? d.properties.case_no : \"\")));\n\n    d3.select(\"#nRadius\").property(\"max\", d3.max(cases));\n    // updateR the slider\n    const updateRadius = (nRadius) => {\n\n        // adjust the text on the range slider\n        d3.select(\"#nRadius-value\").text(nRadius);\n        d3.select(\"#nRadius\").property(\"value\", nRadius);\n\n        // highlight case\n        d3.selectAll(\"circle\")\n            .attr(\"r\", 5);\n        d3.selectAll(\".CO-\" + nRadius)\n            .attr(\"r\", 10);\n    }\n    // when the input range changes highlight the circle\n    d3.select(\"#nRadius\").on(\"input\", function() {\n        updateRadius(+this.value);\n    });\n    // Select first case\n    updateRadius(1);\n\n    // Setup the simulation\n    // https://gist.github.com/mbostock/1153292\n    simulation = d3.forceSimulation(graph.nodes)\n        .force(\"link\", d3.forceLink(graph.links).id( d => {\n            let name = JSON.parse(JSON.stringify(d)).name;\n            return name;\n        }))\n        .force(\"charge\", d3.forceManyBody()\n            .strength(-140)\n            .distanceMax(1400))\n        .force(\"center\", d3.forceCenter(Config.width / 2, Config.height / 2))\n        .force('collision', d3.forceCollide().radius( d => {\n        return d.radius\n        }))\n        .force(\"x\", d3.forceX())\n        .force(\"y\", d3.forceY())\n        .alphaDecay([0.02]);\n\n    // Append the svg object to the chart div, and a group for nodes and links\n    const svg = d3.select(\"#chart\")\n        .append(\"svg\")\n            .attr(\"class\", \"chart-group\")\n            .attr(\"preserveAspectRatio\", \"xMidYMid\")\n            .attr(\"width\", Config.svg_width)\n            .attr(\"height\", Config.svg_height)\n            .attr(\"viewBox\", '0, 0 ' + Config.svg_width + ' ' + Config.svg_height)\n            .on(\"click\", () => { Tooltip.unHighlight(); });\n    const g = svg.append(\"g\")\n        .attr(\"transform\",\n        \"translate(\" + Config.margin.left + \",\" + Config.margin.top + \")\");\n\n    // Add arrows for links\n    const markerTypes = Array.from(new Set(graph.nodes.map(d => d.source)));\n    g.append(\"defs\").selectAll(\"marker\")\n        .data(markerTypes)\n            .join(\"marker\")\n                .attr(\"id\", d => `arrow-${d}`)\n                .attr(\"viewBox\", \"0 -5 10 10\")\n                .attr(\"refX\", 15)\n                .attr(\"refY\", -0.5)\n                .attr(\"markerWidth\", 6)\n                .attr(\"markerHeight\", 6)\n                .attr(\"orient\", \"auto\")\n            .append(\"path\")\n                .attr(\"fill\", \"#999\")\n                .attr(\"d\", \"M0,-5L10,0L0,5\");\n    \n    link = g.append(\"g\")\n            .attr(\"class\", \"link\")\n            .selectAll(\"path\")\n            .data(graph.links)\n            .join(\"path\")\n                .attr(\"marker-end\", d => `url(${new URL(`#arrow-${d.type}`, location.toString())})`);\n    link.exit().remove();\n\n    node = g.append(\"g\")\n        .attr(\"class\", \"node\")\n        .selectAll(\"g\")\n        .data(graph.nodes)\n        .join(\"g\")\n            .call(Simulation.drag(simulation));\n\n    const fade = Utils.setFade(graph.links);\n    node.append(\"circle\")\n        .attr(\"class\", d => d.properties && `CO-${d.properties.case_no}`)\n        .attr(\"r\", 5)\n        // .on(\"touchend mouseenter\", d => Tooltip.highlight(d))\n        .on(\"touchmove mouseover\", d => { Tooltip.highlight(d);  fade(node, link, .2) })\n        .on(\"touchend mouseout\", fade(node, link, 1));\n\n    node.append(\"text\")\n        .attr(\"class\", \"node-labels\")\n        .attr(\"x\", 8)\n        .attr(\"y\", \"0.31em\")\n        .text(d => {\n            return d.is_country_of_infection ? d.country_name : (\"#\" + d.name);\n        })\n        .clone(true).lower();\n    node.exit().remove();\n\n    simulation.on(\"tick\", () => {\n        link.attr(\"d\", Simulation.linkArc);\n        node.attr(\"transform\", d => `translate(${d.x},${d.y})`);\n    });\n\n    // Add the title\n    svg.append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"x\", (Config.svg_width / 2))\n        .attr(\"y\", 20)\n        .text(\"Relația cazurilor confirmate\");\n\n    // Color the legend for counties\n    Layout.coloreazaStatus();\n    svg.append('g')\n        .attr('class', 'category-legend');\n    Layout.createLegend(Layout.statusColor);\n\n    // Apply zoom handler\n    zoom_handler(svg);\n};\n","// https://bl.ocks.org/martinjc/5e73d17699573ccd7c2d4468d61dce17/8c047553db6e8627553165ee283cfd525416605c\n// build a dictionary of nodes that are linked\n\nexport const setFade = links => {\n    const linkedByIndex = {};\n    links.forEach(function(d) {\n        linkedByIndex[d.source.index + \",\" + d.target.index] = 1;\n    });\n\n    // check the dictionary to see if nodes are linked\n    const isConnected = (a, b) => {\n        return linkedByIndex[a.index + \",\" + b.index] || linkedByIndex[b.index + \",\" + a.index] || a.index == b.index;\n    }\n\n    // fade nodes on hover\n    const fade = (node, link, opacity) => {\n        \n        return function(d) {\n            // check all other nodes to see if they're connected\n            // to this one. if so, keep the opacity at 1, otherwise\n            // fade\n            node.style(\"stroke-opacity\", function(o) {\n                const thisOpacity = isConnected(d, o) ? 1 : opacity;\n                return thisOpacity;\n            });\n            node.style(\"fill-opacity\", function(o) {\n                const thisOpacity = isConnected(d, o) ? 1 : opacity;\n                return thisOpacity;\n            });\n            // also style link accordingly\n            link.style(\"stroke-opacity\", function(o) {\n                return o.source === d || o.target === d ? 1 : opacity;\n            });\n        };\n    }\n\n    return fade;\n}\n"],"names":["margin","width","height","svg_width","svg_height","tooltip_div","d3","select","append","attr","style","tooltipHTML","d","undefined","properties","case_no","gender","age","county","status","healing_date","reference","name","linkArc","r","Math","hypot","target","x","source","y","statusColor","scaleOrdinal","domain","countyColors","coloreazaStatus","selectAll","transition","duration","parent","createLegend","colorScale","categoryLegend","legendColor","shape","symbol","type","symbolCircle","size","shapePadding","scale","call","dataset","simulation","link","node","graph","nodes","links","json","then","data","setupGraph","setTimeout","drawGraph","sources","filter","country_of_infection","concat","Array","from","Set","map","zoom_handler","zoom","on","g","event","transform","counties","sort","a","b","ascending","countyColor","Layout.countyColors","button","this","text","Layout.coloreazaJudete","Layout.coloreazaStatus","cases","property","max","updateRadius","nRadius","value","forceSimulation","force","forceLink","id","JSON","parse","stringify","forceManyBody","strength","distanceMax","forceCenter","Config.width","Config.height","forceCollide","radius","forceX","forceY","alphaDecay","svg","Config.svg_width","Config.svg_height","Config.margin","markerTypes","join","URL","location","toString","exit","remove","drag","active","alphaTarget","restart","fx","fy","Simulation.drag","fade","linkedByIndex","forEach","index","isConnected","opacity","o","Utils.setFade","is_country_of_infection","left","pageX","top","pageY","window","innerWidth","html","Tooltip.highlight","country_name","clone","lower","Simulation.linkArc","Layout.createLegend","Layout.statusColor"],"mappings":"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"}