{"version":3,"file":"bundle.js","sources":["../src/Config.js","../src/Tooltip.js","../src/Simulation.js","../src/Layout.js","../src/main.js","../src/Translate.js"],"sourcesContent":["// set the dimensions and margins of the graph\nexport const margin = { top: 50, left: 50, bottom: 50, right: 50 },\n    width = window.innerWidth - margin.left - margin.right,\n    height = window.innerHeight - margin.top - margin.bottom,\n    svg_width = width + margin.left + margin.right,\n    svg_height = height + margin.top + margin.bottom;\n\nexport const projection = d3.geoAlbers()\n    .center([24.7731, 45.7909])\n    .rotate([-14, 3.3, -10])\n    .parallels([37, 54])\n    .scale(5000);\n\nexport const path = d3.geoPath()\n    .projection(projection);","// use a tooltip to show node info\nexport const tooltip_div = d3.select(\"body\")\n   .append(\"tooltip_div\")\n   .attr(\"class\", \"tooltip\")\n   .style(\"opacity\", 0)\n   .style(\"display\", \"none\");\n\nexport const highlight = (d, idToTargetNodes, cases) => {\n    // TODO: slider\n    let left = d3.event.pageX -20;\n    let top = d3.event.pageY + 20;\n \n    if (window.innerWidth - left < 150){\n      left = d3.event.pageX - 40;\n    }\n \n    d3.selectAll(\"circle\")\n        .attr(\"r\", 5)\n        .style(\"opacity\", 0.3);\n    d3.selectAll(\".links\")\n        .style(\"stroke\", \"#999\")\n        .style(\"opacity\", 0.3);\n    d3.selectAll(\".node-labels\")\n        .style(\"opacity\", 0.3);\n\n    tooltip_div.transition()\n        .duration(200)\n        .style(\"opacity\", .9);\n\n    d3.select(\"#CO-\" + d.name)\n        .attr(\"r\", 15)\n        .style(\"opacity\", 1);\n    d3.selectAll(\".CO-links-\" + d.name)\n        .style(\"stroke\", \"firebrick\")\n        .transition()\n            .duration(500)\n            .attr(\"stroke-dashoffset\", 0)\n            .style(\"opacity\", 1)\n            .on(\"end\", function(d, i) {\n                if (i === 0)  \n                d3.selectAll(\"circle\")\n                    .filter(function(noded) {\n                        return idToTargetNodes[d.source.name].includes(noded.name) || +d.source.name === +noded.name})\n                    .style(\"opacity\", \"1\");\n                    d3.selectAll(\".node-labels\")\n                    .filter(function(noded) {\n                        return idToTargetNodes[d.source.name].includes(noded.name) || +d.source.name === +noded.name})\n                    .style(\"opacity\", \"1\");\n            });\n    d3.selectAll(\".CO-labels-\" + d.name)\n        .style(\"color\", \"firebrick\")\n        .style(\"opacity\", 1);\n\n    // adjust the text on the range slider\n    let name = cases.indexOf(d.name);\n    d3.select(\"#nRadius-value\").text(d.name);\n    d3.select(\"#nRadius\").property(\"value\", name);\n\n    tooltip_div.html(tooltipHTML(d))\n        .style(\"left\", left + 'px')\n        .style(\"top\", top + 'px')\n        .style(\"display\", null);\n};\n\nexport const tooltipHTML = (d) => {\n    if (d.properties !== undefined) {\n        let language = d3.select(\"#language\").node().value;\n\n        let labels = {\n            cazulLabel: { \"ro\": \"Cazul\", \"en\": \"Case\" },\n            maleLabel: { \"ro\": \"Bărbat\", \"en\": \"Male\" },\n            femaleLabel: { \"ro\": \"Femeie\", \"en\": \"Female\" },\n            unspecLabel: { \"ro\": \"Gen nespecificat\", \"en\": \"Unspecified gender\" },\n            statusLabel: { \"ro\": \"Stare\", \"en\": \"Status\" },\n            releasedLabel: { \"ro\": \"vindecat\", \"en\": \"released\" },\n            confirmedLabel: { \"ro\": \"confirmat\", \"en\": \"confirmed\" },\n            deceasedLabel: { \"ro\": \"deces\", \"en\": \"deceased\" },\n            confdateLabel: { \"ro\": \"Data confirmării\", \"en\": \"Confirmation date\" },\n            recoverydateLabel: { \"ro\": \"Data recuperării\", \"en\": \"Recovery date\" },\n            infectionCountryLabel: { \"ro\": \"Țara de infectare\", \"en\": \"Country of infection\" },\n            detailsLabel: { \"ro\": \"Detalii\", \"en\": \"Details\" },\n            aiciLabel: { \"ro\": \"aici\", \"en\": \"here\" },\n        };\n\n        let genderInfo = d.properties.gender === \"Bărbat\"\n                ? labels.maleLabel[language]\n                : (d.properties.gender === \"Femeie\"\n                    ? labels.femaleLabel[language]\n                    : labels.unspecLabel[language]),\n            ageInfo = d.properties.age != null && d.properties.age != 0\n                ? (\", \" + d.properties.age)\n                : \"\",\n            countyInfo = d.properties.county != null && d.properties.county != \"\"\n                ? (\", \" + d.properties.county)\n                : \"\",\n            statusInfo = d.properties.status != null\n                ? (labels.statusLabel[language] + \": \" + (d.properties.status === \"Vindecat\"\n                        ? labels.releasedLabel[language]\n                        : (d.properties.status === \"Confirmat\"\n                            ? labels.confirmedLabel[language]\n                            : labels.deceasedLabel[language])) + \".<br />\")\n                : \"\",\n            diagnosticDateInfo = d.properties.diagnostic_date !== null\n                ? (labels.confdateLabel[language] + \": \" + d.properties.diagnostic_date + \".<br />\")\n                : \"\",\n            healingDateInfo = d.properties.healing_date !== null\n                ? (labels.recoverydateLabel[language] + \": \" + d.properties.healing_date + \".<br />\")\n                : \"\",\n            countyOfInfectionInfo = d.properties.country_of_infection !== null \n                                    && d.properties.country_of_infection !== \"România\"\n                                    && d.properties.country_of_infection !== \"Romania\"\n                ? (labels.infectionCountryLabel[language] + \": \" + d.properties.country_of_infection + \".<br />\")\n                : \"\",\n            referenceInfo = d.properties.reference !== null && d.properties.reference !== \"\"\n                ? (labels.detailsLabel[language] + \": \" + '<a href=\"' + d.properties.reference + '\" target= \"_blank\">'+ labels.aiciLabel[language] +'</a>')\n                : \"\";\n\n        return \"<b>\" + labels.cazulLabel[language] + \" \" + d.properties.case_no + \"</b>\" +\n            // genderInfo + ageInfo +\n            countyInfo + \".<br />\" +\n            statusInfo +\n            diagnosticDateInfo +\n            healingDateInfo +\n            countyOfInfectionInfo +\n            referenceInfo\n        ;\n    } else {\n        return d.name;\n    };\n};\n\nexport const unHighlight = () => {\n    d3.selectAll(\"circle\")\n        .style(\"opacity\", 1);\n    d3.selectAll(\".link\")\n        .style(\"opacity\", 1);\n    d3.selectAll(\".node-labels\")\n        .style(\"opacity\", \"1\");\n};\n\nexport const hideTooltip = () => {\n    d3.selectAll(\"circle\")\n        .attr(\"r\", 5);\n    tooltip_div.transition()\n        .duration(200)\n        .style(\"opacity\", 0);\n}\n","import * as Config from './Config';\n\n// simulation drag\nexport const drag = (simulation, positioning) => {\n    const dragstarted = d => {\n        if (positioning !== 'diagram') { return };\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n    }\n\n    const dragged = d => {\n        if (positioning !== 'diagram') { return };\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n    }\n\n    const dragended = d => {\n        if (positioning !== 'diagram') { return };\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n    }\n\n    return d3.drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended);\n};\n\n// simulation link\nexport const linkArc = (d) => {\n    const r = Math.hypot(d.target.x - d.source.x, d.target.y - d.source.y);\n    return `\n    M${d.source.x},${d.source.y}\n    A${r},${r} 0 0,1 ${d.target.x},${d.target.y}\n    `;\n};","export const statusColor = (language) => {\n    return language === \"ro\"\n        ? d3.scaleOrdinal([\"var(--main-confirmate)\", \"var(--main-recuperari)\", \"var(--main-decese)\"]).domain([\"Confirmat\", \"Vindecat\", \"Decedat\"])\n        : d3.scaleOrdinal([\"var(--main-confirmate)\", \"var(--main-recuperari)\", \"var(--main-decese)\"]).domain([\"Confirmed\", \"Discharged\", \"Deceased\"]);\n};\n\n// https://medialab.github.io/iwanthue/\n// hcl[0]>=0 && hcl[0]<=340\n//     && hcl[1]>=30 && hcl[1]<=80\n//     && hcl[2]>=35 && hcl[2]<=100\nconst countyColors = [\n    \"#e4588c\", \"#35d394\", \"#ba1ea8\", \"#4caf1c\", \"#1848ca\", \"#aad42b\", \"#9b85ff\", \"#068400\", \"#8b2487\", \"#97ff8b\", \"#d60042\", \"#00ae87\", \"#f94740\", \"#48d3ff\", \"#d17300\", \"#5ea2ff\", \"#cfb100\", \"#53498f\", \"#ffe353\", \"#325383\", \"#86a700\", \"#ff9eeb\", \"#007f30\", \"#d9b6ff\", \"#3b5c12\", \"#89c2ff\", \"#964000\", \"#00bfbb\", \"#ff6f54\", \"#01aac6\", \"#ffb65d\", \"#008857\", \"#ff8e90\", \"#145f36\", \"#952e31\", \"#fffea6\", \"#8e3440\", \"#5a936f\", \"#883d0c\", \"#ffaf81\", \"#34a6c2\", \"#b09764\", \"#458a18\"\n];\nconst counties = [\n    \"ALBA\", \"ARAD\", \"ARGEȘ\", \"BACĂU\", \"BIHOR\", \"BISTRIȚA-NĂSĂUD\", \"BOTOȘANI\", \"BRAȘOV\", \"BRĂILA\", \"BUCUREȘTI\", \"BUZĂU\", \"CARAȘ-SEVERIN\", \"CLUJ\", \"CONSTANȚA\", \"COVASNA\", \"CĂLĂRAȘI\", \"DOLJ\", \"DÂMBOVIȚA\", \"GALAȚI\", \"GIURGIU\", \"GORJ\", \"HARGHITA\", \"HUNEDOARA\", \"IALOMIȚA\", \"IAȘI\", \"ILFOV\", \"NECUNOSCUT\", \"MARAMUREȘ\", \"MEHEDINȚI\", \"MUREȘ\", \"NEAMȚ\", \"OLT\", \"PRAHOVA\", \"SATU MARE\", \"SIBIU\", \"SUCEAVA\", \"SĂLAJ\", \"TELEORMAN\", \"TIMIȘ\", \"TULCEA\", \"VASLUI\", \"VRANCEA\", \"VÂLCEA\"\n];\nexport const countyColor = d3.scaleOrdinal(countyColors).domain(counties);\n\nexport const genderColor = (language) => {\n    return language === \"ro\"\n        ? d3.scaleOrdinal([\"var(--main-barbat)\", \"var(--main-femeie)\"]).domain([\"Bărbat\", \"Femeie\"])\n        : d3.scaleOrdinal([\"var(--main-barbat)\", \"var(--main-femeie)\"]).domain([\"Male\", \"Female\"]);\n};\n\nexport const ageColor = d3.scaleQuantile()\n    .domain([0, 100])\n    .range(d3.schemeSpectral[10]);\n\nexport const colorStatus = () => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties ? statusColor(\"ro\")(d.properties.status) : \"\"\n        });\n\n    showLegend('status-legend');\n}\n\nexport const colorCounties = () => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties ? countyColor(d.properties.county) : \"\"\n        });\n\n    showLegend('county-legend');\n}\n\nexport const colorGender = () => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties\n                    ? d.properties.gender === null\n                        ? \"var(--main-null)\"\n                        : genderColor(\"ro\")(d.properties.gender)\n                    : \"\"\n        });\n\n    showLegend('gender-legend');\n}\n\nexport const colorAge = () => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties\n                    ? d.properties.age === null\n                        ? \"var(--main-null)\"\n                        : ageColor(d.properties.age)\n                    : \"\"\n        });\n\n    showLegend('age-legend');\n}\n\nexport const createLegend = (colorScale, height, vbHeight, legendClass, legendTitle) => {\n\n    const legend = d3.select(\"#legend-div\")\n        .append(\"div\")\n            .attr('class', legendClass)\n        .append(\"svg\")\n            .attr('class', \"category-legend\")\n            .attr(\"width\", 110)\n            .attr(\"height\", height)\n            .attr(\"preserveAspectRatio\", \"xMidYMid\")\n            .attr(\"viewBox\", '-10, -10 ' + 120 + ' ' + vbHeight)\n            .attr(\"x\", 0)\n            .attr(\"y\", 0);\n\n    const categoryLegend = d3.legendColor()\n                            .shape('path', d3.symbol().type(d3.symbolCircle).size(150)())\n                            .shapePadding(10)\n                            .title(legendTitle)\n                            .titleWidth(100)\n                            .labelFormat(d3.format(\".0f\"))\n                            .labelAlign(\"start\")\n                            .scale(colorScale);\n\n    legend.call(categoryLegend);\n}\n\nexport const showLegend = category => {\n    d3.select(\".county-legend\").classed(\"hide\", true);\n    d3.select(\".status-legend\").classed(\"hide\", true);\n    d3.select(\".gender-legend\").classed(\"hide\", true);\n    d3.select(\".age-legend\").classed(\"hide\", true);\n\n    if (category === 'county-legend') {\n        d3.select(\".county-legend\").classed(\"hide\", false);\n    } else if (category === 'status-legend') {\n        d3.select(\".status-legend\").classed(\"hide\", false);\n    } else if (category === 'gender-legend') {\n        d3.select(\".gender-legend\").classed(\"hide\", false);\n    } else if (category === 'age-legend') {\n        d3.select(\".age-legend\").classed(\"hide\", false);\n    }\n}","import * as Config from './Config';\nimport * as Tooltip from './Tooltip';\nimport * as Simulation from './Simulation';\nimport * as Layout from './Layout';\nimport * as Translate from './Translate';\n\nlet graph = {nodes: [], links: []};\nlet simulation, links, nodes;\nlet casesData, geoData, layer, geoCounties;\nlet positioning = 'diagram', legendStatus = false, infoStatus = true, searchStatus = true;\nlet idToNodeFnc, idToNode, idToTargetNodesFnc, idToTargetNodes;\nlet parseTime = d3.timeParse(\"%d-%m-%Y\");\nlet formattedData = [];\nlet cases;\nlet language;\nlet playCasesNow, thisCaseId, thisCaseOrder;\n\n// Switch the language to english/romanian\nlanguage = d3.select(\"#language\").node().value;\nlet countiesSource = language === \"ro\" ? \"data/judete_wgs84.json\" : \"../data/judete_wgs84.json\";\n\nconst locale = d3.timeFormatLocale({\n    \"dateTime\": \"%A, %e %B %Y г. %X\",\n    \"date\": \"%d.%m.%Y\",\n    \"time\": \"%H:%M:%S\",\n    \"periods\": [\"AM\", \"PM\"],\n    \"days\": [\"Luni\", \"Marți\", \"Miercuri\", \"Joi\", \"Vineri\", \"Sâmbătă\", \"Duminică\"],\n    \"shortDays\": [\"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sa\", \"Du\"],\n    \"months\": [\"Ianuarie\", \"Februarie\", \"Martie\", \"Aprilie\", \"Mai\", \"Iunie\", \"Iulie\", \"August\", \"Septembrie\", \"Octombrie\", \"Noiembrie\", \"Decembrie\"],\n    \"shortMonths\": [\"Ian\", \"Feb\", \"Mart\", \"Apr\", \"Mai\", \"Iun\", \"Iul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nconst formatMillisecond = locale.format(\".%L\"),\n    formatSecond = locale.format(\":%S\"),\n    formatMinute = locale.format(\"%I:%M\"),\n    formatHour = locale.format(\"%I %p\"),\n    formatDay = locale.format(\"%a %d\"),\n    formatWeek = locale.format(\"%b %d\"),\n    formatMonth = locale.format(\"%B\"),\n    formatYear = locale.format(\"%Y\");\n\nfunction multiFormat(date) {\n    return (d3.timeSecond(date) < date ? formatMillisecond\n    : d3.timeMinute(date) < date ? formatSecond\n    : d3.timeHour(date) < date ? formatMinute\n    : d3.timeDay(date) < date ? formatHour\n    : d3.timeMonth(date) < date ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\n    : d3.timeYear(date) < date ? formatMonth\n    : formatYear)(date);\n}\n\n(() => {\n\n// Spinner\n// options for loading spinner\nlet opts = {\n        lines: 9,\n        length: 4,\n        width: 5,\n        radius: 12,\n        scale: 1,\n        corners: 1,\n        color: '#f40000',\n        opacity: 0.25,\n        rotate: 0,\n        direction: 1,\n        speed: 1,\n        trail: 30,\n        fps: 20,\n        zIndex: 2e9,\n        className: 'spinner',\n        shadow: false,\n        hwaccel: false,\n        position: 'absolute',\n    },\n    target = document.getElementById('spinner'),\n    spinner;\n\nconst promises = [\n    d3.json(countiesSource),\n    d3.json(\"https://covid19.geo-spatial.org/api/statistics/getCaseRelations\")\n];\n\nPromise.all(promises).then( data => {\n    geoData = data[0];\n    casesData = data[1];\n\n    spinner = new Spinner(opts).spin(target);\n    setupGraph();\n    setTimeout(drawGraph(), 100);\n}).catch(\n    error => console.log(error)\n);\n\nconst setupGraph = () => {\n\n    const sources = casesData.data.nodes.filter( d => d.properties.country_of_infection !== null && d.properties.country_of_infection !== \"România\" && d.properties.country_of_infection !== \"Romania\");\n\n    graph.nodes = casesData.data.nodes;\n    graph.links = casesData.data.links;\n\n    cases = Array.from(new Set(graph.nodes.map(d => d.properties ? +d.properties.case_no : \"\")));\n\n    // https://observablehq.com/d/cedc594061a988c6\n    graph.nodes = graph.nodes.concat(Array.from(new Set(sources.map(d => d.properties.country_of_infection)), name => ({name})));\n    graph.links = graph.links.concat(sources.map(d => ({target: d.name, source: d.properties.country_of_infection})));\n\n    idToNodeFnc = () => {\n        let dict = {};\n        graph.nodes.forEach(function(n) {\n            dict[n.name] = n;\n        });\n        return dict;\n    }\n    idToTargetNodesFnc = () => {\n        let dict = {};\n        graph.nodes.forEach(function (n) {\n            dict[n.name] = [];\n            graph.links.forEach(function (l) {\n                if (l.source === n.name) {\n                    dict[n.name].push(l.target);\n                }\n            });\n        });\n        return dict;\n    }\n    idToNode = idToNodeFnc();\n    idToTargetNodes = idToTargetNodesFnc();\n\n    layer = \"judete_wgs84\";\n    geoCounties = topojson.feature(geoData, geoData.objects[layer]).features;\n\n    let countiesCentroids = d3.map();\n    geoCounties.forEach( d => {\n        let county = d.properties.county;\n        countiesCentroids.set(county, {\n            lat: d.properties.lat,\n            lon: d.properties.lon,\n        });\n    });\n\n    graph.nodes.forEach( d => {\n        if (d.properties !== undefined) {\n            d.latitude = countiesCentroids.get(d.properties.county) && countiesCentroids.get(d.properties.county).lat;\n            d.longitude = countiesCentroids.get(d.properties.county) && countiesCentroids.get(d.properties.county).lon;\n            d.date = parseTime(d.properties.diagnostic_date).getTime();\n            d.name = +d.name;\n        };\n    });\n    graph.nodes.sort((a,b) => a.date - b.date);\n\n    var ed_data = d3.nest()\n        .key(function(d) {\n            return d.properties && d.properties.diagnostic_date;\n        })\n        // .key(function(d) { return d.properties.county; })\n        // .rollup(function(v) { return v.length; })\n        .entries(graph.nodes);\n    ed_data.forEach(function(key){\n        let valuesArr = [...key[\"values\"] ].sort((a,b) => a.name - b.name);\n        let valuesPerDay = valuesArr.map(function(d){\n                d.dayOrder = valuesArr.indexOf(d) + 1;\n                return d;\n            });\n        formattedData.push(...valuesPerDay)\n    });\n\n    graph.nodes = formattedData;\n}\n\nconst drawGraph = () => {\n    // Info\n    d3.select(\"#show-info\").on(\"click\", () => showInfo());\n\n    const showInfo = () => {\n        if (infoStatus === true) {\n            Tooltip.tooltip_div.transition()\n                .duration(200)\n                .style(\"opacity\", .9);\n            Tooltip.tooltip_div.html(Translate.infoHtml(language))\n                .style(\"left\", Config.svg_width / 2 + 'px')\n                .style(\"top\", Config.svg_height / 2 + 'px')\n                .style(\"display\", null);\n            infoStatus = false;\n        } else {\n            Tooltip.tooltip_div.transition()\n                .duration(200)\n                .style(\"opacity\", 0);\n            infoStatus = true;\n        }\n    }\n\n    // Add legends\n    Layout.createLegend(Layout.statusColor(language), 300, 300, \"status-legend\", Translate.status(language));\n    Layout.createLegend(Layout.countyColor, 900, 1100, \"county-legend\", Translate.county(language));\n    Layout.createLegend(Layout.genderColor(language), 200, 200, \"gender-legend\", Translate.gender(language));\n    Layout.createLegend(Layout.ageColor, 400, 400, \"age-legend\", Translate.age(language));\n\n    // Change colors from status to counties and vice versa\n    d3.select(\"#color-counties\")\n        .on(\"click\", () => Layout.colorCounties());\n    d3.select(\"#color-status\")\n        .on(\"click\", () => Layout.colorStatus());\n    d3.select(\"#color-gender\")\n        .on(\"click\", () => Layout.colorGender());\n    d3.select(\"#color-age\")\n        .on(\"click\", () => Layout.colorAge());\n\n    // Setup the simulation\n    // https://gist.github.com/mbostock/1153292\n\n    const ticked = () => {\n        update(links, nodes, positioning)\n    };\n\n    const xScale = d3.scaleTime()\n        .domain(d3.extent(graph.nodes, function(d) { return d.date; }))\n        .range([0, Config.svg_width]);\n    const yScale = d3.scaleLinear()\n        .domain(d3.extent(graph.nodes, function(d) { return d.dayOrder; }))\n        .range([Config.svg_height, 0]);\n\n    const update = (links, nodes, positioning) => {\n        links.attr(\"d\", d => {\n            if (positioning === 'arcs') {\n                if (typeof(d.source.name) === \"string\") {\n                    return Simulation.linkArc(d)\n                } else {\n                    let start = xScale(idToNode[d.source.name].date) || 0;\n                    let end = xScale(idToNode[d.target.name].date);\n                    const arcPath = ['M', start, yScale(idToNode[d.source.name].dayOrder), 'A', (start - end)/2, ',', (start-end)/2, 0,0,\",\",\n                                start < end ? 1: 0, end, yScale(idToNode[d.target.name].dayOrder)].join(' ');\n                    return arcPath;\n                }\n            } else {\n                return Simulation.linkArc(d)\n            }\n        });\n        nodes.attr(\"transform\", d => `translate(${d.x},${d.y})`);\n    };\n\n    simulation = d3.forceSimulation(graph.nodes)\n        .force(\"link\", d3.forceLink(graph.links).id( d => {\n            let name = JSON.parse(JSON.stringify(d)).name;\n            return name;\n        }))\n        .force(\"charge\", d3.forceManyBody()\n            // .strength(-50)\n            // .distanceMax(1000)\n            )\n        .force(\"center\", d3.forceCenter(Config.width / 2, Config.height / 2))\n        // .force('collision', d3.forceCollide().radius( d =>  d.radius ))\n        .force(\"x\", d3.forceX())\n        .force(\"y\", d3.forceY())\n        .alphaDecay([0.02]);\n        // .stop();\n\n    simulation.on('tick', ticked);\n    simulation.force('link').links(graph.links);\n    // Append the svg object to the chart div, and a group for nodes and links\n    const svg = d3.select(\"#chart\")\n        .append(\"svg\")\n            .attr(\"class\", \"chart-group\")\n            .attr(\"preserveAspectRatio\", \"xMidYMid\")\n            .attr(\"width\", Config.svg_width)\n            .attr(\"height\", Config.svg_height)\n            .attr(\"viewBox\", '0, 0 ' + Config.svg_width + ' ' + Config.svg_height)\n            .on(\"click\", () => { Tooltip.unHighlight(); Tooltip.hideTooltip(); });\n    const g = svg.append(\"g\");\n\n    // Zoom by scroll, pan\n    const hideLabels = function(z) {\n        g.selectAll('.node-labels').classed('hidden', function(d) {\n            if (typeof(d.name) !== \"string\") {\n                return z <= 1.5;\n            } else {\n                return false;\n            }\n        });\n    };\n\n    const zoomed = () => {\n        g.attr(\"transform\", d3.event.transform);\n        g.selectAll('.node-labels')\n            .attr(\"transform\", \"scale(\" + (1 / d3.event.transform.k) + \")\");\n        return hideLabels(d3.event.transform.k);\n    }\n\n    const zoom = d3.zoom()\n        .scaleExtent([0.2, 10])\n        .on(\"zoom\", zoomed);\n\n    const panTo = d => {\n        d3.event.stopPropagation();\n        svg.transition().duration(750).call(\n            zoom.transform,\n            d3.zoomIdentity.translate(Config.width / 2, Config.height / 2)\n                .scale(2)\n                .translate(-d.x, -d.y),\n            d3.mouse(svg.node())\n        );\n    };\n\n    const resetZoom = () => {\n        g.transition().duration(750).call(\n            zoom.transform,\n            d3.zoomIdentity,\n            d3.zoomTransform(g.node()).invert([Config.svg_width / 2, Config.svg_height / 2])\n        );\n    };\n\n    d3.select(\"#zoom-in\")\n        .on(\"click\", () => svg.transition().call(zoom.scaleBy, 2));\n    d3.select(\"#zoom-out\")\n        .on(\"click\", () => svg.transition().call(zoom.scaleBy, 0.5));\n    d3.select(\"#reset-zoom\").on(\"click\", () => resetZoom());\n\n    // Apply zoom handler\n    svg.call(zoom);\n    // Zoom to the group\n    svg.call(zoom.scaleTo, 0.5);\n\n    // Timeline\n    const timeGraph = g.append(\"g\")\n        .attr(\"class\", \"time-graph\")\n        .attr(\"opacity\", 0);\n\n    const xLabel = timeGraph.append(\"text\")\n        .attr(\"y\", Config.svg_height + 70)\n        .attr(\"x\", Config.svg_width / 2)\n        .attr(\"font-size\", \"16px\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Ziua\");\n    const xAxis = timeGraph.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + (Config.svg_height) + \")\")\n        .call(d3.axisBottom(xScale)\n            .ticks(20)\n            .tickFormat(multiFormat));\n    xAxis.selectAll('text')\n        .attr(\"font-weight\", \"bold\")\n        .style(\"text-anchor\", \"end\")\n        .attr(\"dx\", \"-.8em\")\n        .attr(\"transform\", \"rotate(-65)\");\n    const yAxis = timeGraph.append(\"g\")\n        .call(d3.axisLeft(yScale)\n            .ticks(10));\n    yAxis.selectAll('text').attr(\"font-weight\", \"bold\");\n    const yLabel = timeGraph.append(\"text\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"y\", -50)\n        .attr(\"x\", -Config.svg_height / 2)\n        .attr(\"font-size\", \"20px\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Cazuri pe zi\")\n\n    // Add counties map\n    const geojsonFeatures = topojson.feature(geoData, {\n        type: \"GeometryCollection\",\n        geometries: geoData.objects[layer].geometries\n    });\n\n    const thisMapPath = d3.geoPath()\n        .projection(\n            Config.projection\n                  .fitSize([Config.svg_width, Config.svg_height], geojsonFeatures)\n                  );\n\n    const map = g.append(\"g\")\n        .attr(\"class\", \"map-features\")\n        .selectAll(\"path\")\n            .data(geoCounties)\n            .enter()\n            .append(\"path\")\n            .attr(\"d\", thisMapPath)\n                .attr(\"class\", \"land\")\n                .attr(\"opacity\", 0.25);\n\n    // Add arrows for links\n    const markerTypes = Array.from(new Set(graph.nodes.map(d => d.source)));\n    g.append(\"defs\").selectAll(\"marker\")\n        .data(markerTypes)\n            .join(\"marker\")\n                .attr(\"id\", d => `arrow-${d}`)\n                .attr(\"viewBox\", \"0 -5 10 10\")\n                .attr(\"refX\", 15)\n                .attr(\"refY\", -0.5)\n                .attr(\"markerWidth\", 6)\n                .attr(\"markerHeight\", 6)\n                .attr(\"orient\", \"auto\")\n            .append(\"path\")\n                .attr(\"fill\", \"#999\")\n                .attr(\"d\", \"M0,-5L10,0L0,5\");\n    \n    links = g.append(\"g\")\n            .attr(\"class\", \"link\")\n            .selectAll(\"path\")\n            .data(graph.links)\n            .join(\"path\")\n                .attr(\"class\", d => `CO-links-${d.source.name}`)\n                .classed(\"links\", true)\n                .attr(\"marker-end\", d => `url(${new URL(`#arrow-${d.type}`, location.toString())})`);\n    links.exit().remove();\n\n    nodes = g.append(\"g\")\n        .attr(\"class\", \"node\")\n        .selectAll(\"g\")\n        .data(graph.nodes)\n        .join(\"g\")\n            .call(Simulation.drag(simulation, positioning));\n\n    nodes.append(\"circle\")\n        .attr(\"id\", d => d.properties && `CO-${d.properties.case_no}`)\n        .attr(\"r\", 5)\n        .on(\"touchmove mouseover\", function(d) {\n            Tooltip.highlight(d, idToTargetNodes, cases);\n        })\n        .on(\"touchend mouseout\", d => {\n            // Tooltip.unHighlight();\n        })\n        .on(\"click\", panTo);\n\n    nodes.append(\"text\")\n        .attr(\"class\", d => `CO-labels-${d.name}`)\n        .classed(\"node-labels\", true)\n        .attr(\"x\", 8)\n        .attr(\"y\", \"0.31em\")\n        .text(d => d.name)\n        .clone(true).lower();\n\n    nodes.exit().remove();\n\n    // Color the legend for counties\n    Layout.colorStatus();\n\n    // Toggle between map, graph and timeline chart\n    const fixed = (positioning, immediate) => {\n        if (positioning === \"map\") {\n            graph.nodes.forEach(function (d) {\n                const pos = Config.projection([d.longitude, d.latitude]);\n                d.x = pos[0] || d.x;\n                d.y = pos[1] || d.y;\n            });\n        } else {\n            graph.nodes.forEach(function (d) {\n                d.x = xScale(d.date) || -100;\n                d.y = yScale(d.dayOrder);\n            });\n        }\n\n        const t = d3.transition()\n            .duration(immediate ? 0 : 800)\n            .ease(d3.easeElastic.period(0.5));\n\n        update(links.transition(t), nodes.transition(t), positioning);\n    };\n    const showMap = () => {\n        positioning = \"map\";\n        map.attr(\"opacity\", 1);\n        timeGraph.attr(\"opacity\", 0);\n        simulation.stop();\n        fixed(positioning, 0);\n\n        nodes.call(Simulation.drag(simulation, positioning));\n    };\n    const showGraph = () => {\n        positioning = \"diagram\";\n        map.attr(\"opacity\", 0.25);\n        timeGraph.attr(\"opacity\", 0);\n        simulation.alpha(1).restart();\n\n        nodes.call(Simulation.drag(simulation, positioning));\n    };\n    const showArcs = () => {\n        positioning = \"arcs\";\n        map.attr(\"opacity\", 0);\n        timeGraph.attr(\"opacity\", 1);\n        simulation.stop();\n        fixed(positioning, 0);\n\n        nodes.call(Simulation.drag(simulation, positioning));\n    };\n\n    d3.select(\"#show-map\")\n        .on(\"click\", () => showMap());\n    d3.select(\"#show-graph\")\n        .on(\"click\", () => showGraph());\n    d3.select(\"#show-arcs\")\n        .on(\"click\", () => showArcs());\n\n    // Toggle the legend\n    const toggleLegend = () => {\n        if (legendStatus === true) {\n            d3.select(\"#legend-div\").classed(\"hide\", true);\n            legendStatus = false;\n        } else {\n            d3.select(\"#legend-div\").classed(\"hide\", false);\n            legendStatus = true;\n        };\n    };\n    d3.select(\"#legend-div\").classed(\"hide\", true);\n    d3.select(\"#toggle-legend\")\n        .on(\"click\", () => toggleLegend());\n\n    // Highlight and pan to searched Id\n    const searchByCaseId = (caseId) => {\n        if (cases.includes(caseId)) {\n            // highlight case\n            d3.selectAll(\"circle\")\n                .attr(\"r\", 5);\n            d3.select(\"#CO-\" + caseId)\n                .attr(\"r\", 15)\n                .dispatch('mouseover')\n                .dispatch('click');\n        }\n    }\n\n    d3.select(\"#search-case\")\n        .on(\"click\", () => {\n            if (searchStatus === true) {\n                d3.select(\"#search-input\").classed(\"hide\", false);\n                searchStatus = false;\n            } else {\n                d3.select(\"#search-input\").classed(\"hide\", true);\n                searchStatus = true;\n            };\n        });\n    d3.select(\"#search-input\")\n        .on(\"input\", function() {\n            searchByCaseId(+this.value);\n        });\n\n    // Start/stop the animation - highlight the cases ordered by day and case number\n    d3.select(\"#play-cases\")\n        .on(\"click\", () => {\n            d3.select(\"#play-cases\").classed(\"hide\", true);\n            d3.select(\"#pause-cases\").classed(\"hide\", false);\n            playCases();\n        });\n    d3.select(\"#pause-cases\")\n        .on(\"click\", () => {\n            d3.select(\"#pause-cases\").classed(\"hide\", true);\n            d3.select(\"#play-cases\").classed(\"hide\",false);\n            pauseCases();\n        });\n\n    const playCases = () => {\n        svg.call(zoom.scaleTo, 0.5);\n        thisCaseOrder = d3.select(\"#nRadius\").node().value;\n        if (+thisCaseOrder === (+cases.length - 1)) thisCaseOrder = 0;\n\n        playCasesNow = setInterval(function() {\n            thisCaseId = cases[thisCaseOrder];\n            if (thisCaseId !== undefined) {\n                updateRadius(thisCaseOrder);\n                thisCaseOrder++;\n            } else {\n                thisCaseOrder = 0;\n            }\n        }, 200);\n    };\n    const pauseCases = () => {\n        clearInterval(playCasesNow);\n    };\n\n    // Case slider to highlight nodes by id\n    // https://bl.ocks.org/d3noob/c4b31a539304c29767a56c2373eeed79/9d18fc47e580d8c940ffffea1179e77e62647e36\n\n    // when the input range changes highlight the circle\n    d3.select(\"#nRadius\").on(\"input\", function() {\n        updateRadius(+this.value);\n    });\n    d3.select(\"#nRadius\").property(\"max\", cases.length-1);\n    // update the slider\n    const updateRadius = (nRadius) => {\n        // adjust the text on the range slider\n        d3.select(\"#nRadius-value\").text(cases[nRadius]);\n        d3.select(\"#nRadius\").property(\"value\", cases[nRadius]);\n        d3.select(\"#search-input\").property(\"value\", cases[nRadius]);\n\n        // highlight case\n        d3.selectAll(\"circle\")\n            .attr(\"r\", 5);\n        d3.select(\"#CO-\" + cases[nRadius])\n            .attr(\"r\", 15)\n            .dispatch('mouseover');\n            // .dispatch('click');\n    }\n    // Select latest case\n    updateRadius(cases.length-1);\n\n    // Hide case labels first\n    hideLabels(0.9);\n\n    // Zoom to latest case, when loading spinner stops\n    setTimeout(function() {\n        simulation.stop();\n        spinner.stop();\n        d3.select(\"tooltip_div\").classed(\"tooltip-abs\", true);\n        d3.select(\"#CO-\" + d3.max(cases))\n            .attr(\"r\", 15)\n            .dispatch('mouseover');\n    }, 5000);\n};\n\n}).call(this);","export const infoHtml = (language) => {\n    return language === \"ro\"\n    ? \"<strong>Relația cazurilor confirmate</strong>.<br/>Situaţia până la data în care s-au raportat oficial aceste informaţii.<br/><br/>Dați click în afara cercului pentru a deselecta.\"\n    : \"<strong>Relationship between confirmed cases</strong>.<br/>The status until the date this information has been officially reported.<br/><br/>Click outside the circle to clear the selection.\";\n}\n\nexport const status = (language) => {\n    return language === \"ro\"\n        ? \"Stare\"\n        : \"Status\";\n};\n\nexport const county = (language) => {\n    return language === \"ro\"\n        ? \"Județ\"\n        : \"County\";\n};\n\nexport const gender = (language) => {\n    return language === \"ro\"\n        ? \"Gen\"\n        : \"Gender\";\n};\n\nexport const age = (language) => {\n    return language === \"ro\"\n        ? \"Vârstă\"\n        : \"Age\";\n};"],"names":["margin","width","window","innerWidth","height","innerHeight","svg_width","svg_height","projection","d3","geoAlbers","center","rotate","parallels","scale","tooltip_div","geoPath","select","append","attr","style","tooltipHTML","d","undefined","properties","language","node","value","labels","cazulLabel","ro","en","maleLabel","femaleLabel","unspecLabel","statusLabel","releasedLabel","confirmedLabel","deceasedLabel","confdateLabel","recoverydateLabel","infectionCountryLabel","detailsLabel","aiciLabel","countyInfo","gender","age","county","statusInfo","status","diagnosticDateInfo","diagnostic_date","healingDateInfo","healing_date","countyOfInfectionInfo","country_of_infection","referenceInfo","reference","case_no","name","drag","simulation","positioning","on","event","active","alphaTarget","restart","fx","x","fy","y","linkArc","r","Math","hypot","target","source","statusColor","scaleOrdinal","domain","countyColor","genderColor","ageColor","scaleQuantile","range","schemeSpectral","colorStatus","selectAll","transition","duration","showLegend","createLegend","colorScale","vbHeight","legendClass","legendTitle","legend","categoryLegend","legendColor","shape","symbol","type","symbolCircle","size","shapePadding","title","titleWidth","labelFormat","format","labelAlign","call","category","classed","links","nodes","casesData","geoData","layer","geoCounties","idToNodeFnc","idToNode","idToTargetNodesFnc","idToTargetNodes","cases","playCasesNow","thisCaseId","thisCaseOrder","graph","legendStatus","infoStatus","searchStatus","parseTime","timeParse","formattedData","countiesSource","locale","timeFormatLocale","dateTime","date","time","periods","days","shortDays","months","shortMonths","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","multiFormat","timeSecond","timeMinute","timeHour","timeDay","timeMonth","timeWeek","timeYear","spinner","opts","lines","length","radius","corners","color","opacity","direction","speed","trail","fps","zIndex","className","shadow","hwaccel","position","document","getElementById","promises","json","Promise","all","then","data","Spinner","spin","setupGraph","setTimeout","drawGraph","catch","error","console","log","sources","filter","Array","from","Set","map","concat","dict","forEach","n","l","push","topojson","feature","objects","features","countiesCentroids","set","lat","lon","latitude","get","longitude","getTime","sort","a","b","nest","key","entries","valuesArr","valuesPerDay","dayOrder","indexOf","showInfo","Tooltip.tooltip_div","html","Translate.infoHtml","Config.svg_width","Config.svg_height","Layout.createLegend","Layout.statusColor","Translate.status","Layout.countyColor","Translate.county","Layout.genderColor","Translate.gender","Layout.ageColor","Translate.age","Layout.colorStatus","xScale","scaleTime","extent","yScale","scaleLinear","update","Simulation.linkArc","start","end","join","forceSimulation","force","forceLink","id","JSON","parse","stringify","forceManyBody","forceCenter","Config.width","Config.height","forceX","forceY","alphaDecay","svg","g","hideLabels","z","zoom","scaleExtent","transform","k","scaleBy","zoomIdentity","zoomTransform","invert","scaleTo","timeGraph","text","axisBottom","ticks","tickFormat","axisLeft","geojsonFeatures","geometries","thisMapPath","Config.projection","fitSize","enter","markerTypes","URL","location","toString","exit","remove","Simulation.drag","left","pageX","top","pageY","i","noded","includes","property","Tooltip.highlight","stopPropagation","translate","mouse","clone","lower","fixed","immediate","pos","t","ease","easeElastic","period","stop","alpha","caseId","this","dispatch","playCases","pauseCases","setInterval","updateRadius","clearInterval","nRadius","max"],"mappings":"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"}