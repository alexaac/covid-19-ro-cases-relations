{"version":3,"file":"bundle.js","sources":["../src/Config.js","../src/Tooltip.js","../src/Simulation.js","../src/Layout.js","../src/main.js","../src/Utils.js"],"sourcesContent":["// set the dimensions and margins of the graph\nexport const margin = { top: 50, left: 50, bottom: 50, right: 50 },\n    width = window.innerWidth - margin.left - margin.right,\n    height = window.innerHeight - margin.top - margin.bottom,\n    svg_width = width + margin.left + margin.right,\n    svg_height = height + margin.top + margin.bottom;\n\nexport const projection = d3.geoAlbers()\n    .center([24.7731, 45.7909])\n    .rotate([-14, 3.3, -10])\n    .parallels([37, 54])\n    .scale(5000);\n\nexport const path = d3.geoPath()\n    .projection(projection);","// use a tooltip to show node info\nexport const tooltip_div = d3.select(\"body\")\n   .append(\"tooltip_div\")\n   .attr(\"class\", \"tooltip\")\n   .style(\"opacity\", 0)\n   .style(\"display\", \"none\");\n\nexport const highlight = (d) => {\n    // TODO: slider\n    let left = d3.event.pageX -20;\n    let top = d3.event.pageY + 20;\n \n    if (window.innerWidth - left < 150){\n      left = d3.event.pageX - 40;\n    }\n \n    d3.selectAll(\"circle\")\n        .attr(\"r\", 5);\n\n    tooltip_div.transition()\n        .duration(200)\n        .style(\"opacity\", .9);\n\n    d3.select(\"#CO-\" + d.name)\n        .attr(\"r\", 15);\n\n    // adjust the text on the range slider\n    d3.select(\"#nRadius-value\").text(d.name);\n    d3.select(\"#nRadius\").property(\"value\", d.name);\n\n    tooltip_div.html(tooltipHTML(d))\n        .style(\"left\", left + 'px')\n        .style(\"top\", top + 'px')\n        .style(\"display\", null);\n};\n\nexport const tooltipHTML = (d) => {\n    if (d.properties !== undefined) {\n        return \"<b>Cazul \" + d.properties.case_no + \"</b><br />\" +\n       (d.properties.gender === 'Bărbat'\n            ? \"Bărbat\"\n            : (d.properties.gender === 'Femeie'\n                ? \"Femeie\"\n                : \"Gen nespecificat\")) +\n       (d.properties.age != null && d.properties.age != 0 ? (\", \" + d.properties.age) : \"\") +\n       (d.properties.county != null && d.properties.county != \"\" ? (\", din  \" + d.properties.county) : \"\") + \".<br />\" +\n       (d.properties.status != null\n           ? (\"Status: \" + (d.properties.status === \"Vindecat\"\n                ? \"vindecat\"\n                : (d.properties.status === \"Confirmat\"\n                    ? \"confirmat\"\n                    : \"deces\")) + \".<br />\")\n           : \"\") +\n       (d.properties.healing_date !== null ? (\"Data recuperării: \" + d.properties.healing_date + \".<br />\") : \"\") +\n       (d.properties.reference !== null && d.properties.reference !== \"\" ? (\"Detalii: \" + '<a href=\"' + d.properties.reference + '\" target= \"_blank\">aici</a>') : \"\");\n    } else {\n        return d.name;\n    };\n};\n\nexport const unHighlight = () => {\n    d3.selectAll(\"circle\")\n        .attr(\"r\", 5);\n\n    tooltip_div.transition()\n        .duration(200)\n        .style(\"opacity\", 0);\n};\n","// simulation drag\nexport const drag = (simulation, positioning) => {\n    const dragstarted = d => {\n        if (positioning === 'map') { return };\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n    }\n\n    const dragged = d => {\n        if (positioning === 'map') { return };\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n    }\n\n    const dragended = d => {\n        if (positioning === 'map') { return };\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n    }\n\n    return d3.drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended);\n};\n\n// simulation link\nexport const linkArc = d => {\n    const r = Math.hypot(d.target.x - d.source.x, d.target.y - d.source.y);\n    return `\n      M${d.source.x},${d.source.y}\n      A${r},${r} 0 0,1 ${d.target.x},${d.target.y}\n    `;\n};","export const statusColor = d3.scaleOrdinal([\"var(--main-confirmate)\", \"var(--main-recuperari)\", \"var(--main-decese)\"]).domain([\"Confirmat\", \"Vindecat\", \"Decedat\"]);\n\n// https://medialab.github.io/iwanthue/\n// hcl[0]>=0 && hcl[0]<=340\n//     && hcl[1]>=30 && hcl[1]<=80\n//     && hcl[2]>=35 && hcl[2]<=100\nconst countyColors = [\n    \"#e4588c\", \"#35d394\", \"#ba1ea8\", \"#4caf1c\", \"#1848ca\", \"#aad42b\", \"#9b85ff\", \"#068400\", \"#8b2487\", \"#97ff8b\", \"#d60042\", \"#00ae87\", \"#f94740\", \"#48d3ff\", \"#d17300\", \"#5ea2ff\", \"#cfb100\", \"#53498f\", \"#ffe353\", \"#325383\", \"#86a700\", \"#ff9eeb\", \"#007f30\", \"#d9b6ff\", \"#3b5c12\", \"#89c2ff\", \"#964000\", \"#00bfbb\", \"#ff6f54\", \"#01aac6\", \"#ffb65d\", \"#008857\", \"#ff8e90\", \"#145f36\", \"#952e31\", \"#fffea6\", \"#8e3440\", \"#5a936f\", \"#883d0c\", \"#ffaf81\", \"#34a6c2\", \"#b09764\", \"#458a18\"\n];\nconst counties = [\n    \"ALBA\", \"ARAD\", \"ARGEȘ\", \"BACĂU\", \"BIHOR\", \"BISTRIȚA-NĂSĂUD\", \"BOTOȘANI\", \"BRAȘOV\", \"BRĂILA\", \"BUCUREȘTI\", \"BUZĂU\", \"CARAȘ-SEVERIN\", \"CLUJ\", \"CONSTANȚA\", \"COVASNA\", \"CĂLĂRAȘI\", \"DOLJ\", \"DÂMBOVIȚA\", \"GALAȚI\", \"GIURGIU\", \"GORJ\", \"HARGHITA\", \"HUNEDOARA\", \"IALOMIȚA\", \"IAȘI\", \"ILFOV\", \"NECUNOSCUT\", \"MARAMUREȘ\", \"MEHEDINȚI\", \"MUREȘ\", \"NEAMȚ\", \"OLT\", \"PRAHOVA\", \"SATU MARE\", \"SIBIU\", \"SUCEAVA\", \"SĂLAJ\", \"TELEORMAN\", \"TIMIȘ\", \"TULCEA\", \"VASLUI\", \"VRANCEA\", \"VÂLCEA\"\n];\nexport const countyColor = d3.scaleOrdinal(countyColors).domain(counties);\n\nexport const genderColor = d3.scaleOrdinal([\"var(--main-barbat)\", \"var(--main-femeie)\"]).domain([\"Bărbat\", \"Femeie\"]);\n\nexport const ageColor = d3.scaleQuantile()\n    .domain([0, 100])\n    .range(d3.schemeSpectral[10]);\n\nexport const coloreazaStatus = () => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties ? statusColor(d.properties.status) : \"\"\n        });\n\n    showLegend('status-legend');\n}\n\nexport const coloreazaJudete = (countyColor) => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties ? countyColor(d.properties.county) : \"\"\n        });\n\n    showLegend('county-legend');\n}\n\nexport const coloreazaGen = (genderColor) => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties\n                    ? d.properties.gender === null\n                        ? \"var(--main-null)\"\n                        : genderColor(d.properties.gender)\n                    : \"\"\n        });\n\n    showLegend('gender-legend');\n}\n\nexport const coloreazaVarsta = (ageColor) => {\n    let svg = d3.select(\"#chart\").select('svg');\n\n    svg.selectAll('circle')\n        .transition().duration(100)\n        .attr(\"fill\", d => {\n            return (d.is_country_of_infection)\n                ? \"black\"\n                : d.properties\n                    ? d.properties.age === null\n                        ? \"var(--main-null)\"\n                        : ageColor(d.properties.age)\n                    : \"\"\n        });\n\n    showLegend('age-legend');\n}\n\nexport const createLegend = (colorScale, height, vbHeight, legendClass, legendTitle) => {\n\n    const legend = d3.select(\"#legend-div\")\n        .append(\"div\")\n            .attr('class', legendClass)\n        .append(\"svg\")\n            .attr('class', \"category-legend\")\n            .attr(\"width\", 110)\n            .attr(\"height\", height)\n            .attr(\"preserveAspectRatio\", \"xMidYMid\")\n            .attr(\"viewBox\", '-10, -10 ' + 120 + ' ' + vbHeight)\n            .attr(\"x\", 0)\n            .attr(\"y\", 0);\n\n    const categoryLegend = d3.legendColor()\n                            .shape('path', d3.symbol().type(d3.symbolCircle).size(150)())\n                            .shapePadding(10)\n                            .title(legendTitle)\n                            .titleWidth(100)\n                            .labelFormat(d3.format(\".0f\"))\n                            .labelAlign(\"start\")\n                            .scale(colorScale);\n\n    legend.call(categoryLegend);\n}\n\nexport const showLegend = category => {\n    d3.select(\".county-legend\").classed(\"hide\", true);\n    d3.select(\".status-legend\").classed(\"hide\", true);\n    d3.select(\".gender-legend\").classed(\"hide\", true);\n    d3.select(\".age-legend\").classed(\"hide\", true);\n\n    if (category === 'county-legend') {\n        d3.select(\".county-legend\").classed(\"hide\", false);\n    } else if (category === 'status-legend') {\n        d3.select(\".status-legend\").classed(\"hide\", false);\n    } else if (category === 'gender-legend') {\n        d3.select(\".gender-legend\").classed(\"hide\", false);\n    } else if (category === 'age-legend') {\n        d3.select(\".age-legend\").classed(\"hide\", false);\n    }\n}","import * as Config from './Config';\nimport * as Tooltip from './Tooltip';\nimport * as Simulation from './Simulation';\nimport * as Utils from './Utils';\nimport * as Layout from './Layout';\n\nlet graph = {nodes: [], links: []};\nlet simulation, links, nodes;\nlet casesData, geoData, layer, geoCounties;\nlet positioning = 'diagram', legendStatus = true, infoStatus = true, searchStatus = true;\n\n(() => {\n\n// Spinner\n// options for loading spinner\nlet opts = {\n        lines: 9,\n        length: 4,\n        width: 5,\n        radius: 12,\n        scale: 1,\n        corners: 1,\n        color: '#f40000',\n        opacity: 0.25,\n        rotate: 0,\n        direction: 1,\n        speed: 1,\n        trail: 30,\n        fps: 20,\n        zIndex: 2e9,\n        className: 'spinner',\n        shadow: false,\n        hwaccel: false,\n        position: 'absolute',\n    },\n    target = document.getElementById('spinner'),\n    spinner;\n\nconst promises = [\n    d3.json(\"data/judete_wgs84.json\"),\n    d3.json(\"https://covid19.geo-spatial.org/api/statistics/getCaseRelations\")\n];\n\nPromise.all(promises).then( data => {\n    geoData = data[0];\n    casesData = data[1];\n\n    spinner = new Spinner(opts).spin(target);\n    setupGraph();\n    setTimeout(drawGraph(), 100);\n}).catch(\n    error => console.log(error)\n);\n\nconst setupGraph = () => {\n\n    const sources = casesData.data.nodes.filter( d => d.properties.country_of_infection !== null && d.properties.country_of_infection !== \"România\" && d.properties.country_of_infection !== \"Romania\");\n\n    // https://observablehq.com/d/cedc594061a988c6\n    graph.nodes = casesData.data.nodes.concat(Array.from(new Set(sources.map(d => d.properties.country_of_infection)), name => ({name})));\n    graph.links = casesData.data.links.concat(sources.map(d => ({target: d.name, source: d.properties.country_of_infection})));\n\n    layer = \"judete_wgs84\";\n    geoCounties = topojson.feature(geoData, geoData.objects[layer]).features;\n\n    let countiesCentroids = d3.map();\n    geoCounties.forEach( d => {\n        let county = d.properties.county;\n        countiesCentroids.set(county, {\n            lat: d.properties.lat,\n            lon: d.properties.lon,\n        });\n    });\n\n    graph.nodes.forEach( d => {\n        if (d.properties !== undefined) {\n            d.latitude = countiesCentroids.get(d.properties.county) && countiesCentroids.get(d.properties.county).lat;\n            d.longitude = countiesCentroids.get(d.properties.county) && countiesCentroids.get(d.properties.county).lon;\n        };\n    });\n}\n\nconst drawGraph = () => {\n    // Zoom by scroll, pan\n    const zoomed = () => {\n        g.attr(\"transform\", d3.event.transform);\n    };\n\n    const zoom = d3.zoom()\n      .scaleExtent([0.2, 10])\n      .on(\"zoom\", zoomed);\n\n    const resetZoom = () => {\n        g.transition().duration(750).call(\n            zoom.transform,\n            d3.zoomIdentity,\n            d3.zoomTransform(g.node()).invert([Config.svg_width / 2, Config.svg_height / 2])\n        );\n    };\n\n    d3.select(\"#zoom-in\").on(\"click\", () => g.transition().call(zoom.scaleBy, 2));\n    d3.select(\"#zoom-out\").on(\"click\", () => g.transition().call(zoom.scaleBy, 0.5));\n    d3.select(\"#reset-zoom\").on(\"click\", () => resetZoom());\n\n    // Info\n    d3.select(\"#show-info\").on(\"click\", () => showInfo());\n\n    const showInfo = () => {\n        if (infoStatus === true) {\n            Tooltip.tooltip_div.transition()\n                .duration(200)\n                .style(\"opacity\", .9);\n            Tooltip.tooltip_div.html(\"<strong>Relația cazurilor confirmate</strong>.<br/><br/>Situaţia până la data în care s-au raportat oficial aceste informaţii.\")\n                .style(\"left\", Config.svg_width / 2 + 'px')\n                .style(\"top\", Config.svg_height / 2 + 'px')\n                .style(\"display\", null);\n            infoStatus = false;\n        } else {\n            Tooltip.tooltip_div.transition()\n                .duration(200)\n                .style(\"opacity\", 0);\n            infoStatus = true;\n        }\n    }\n\n    // Add legends\n    Layout.createLegend(Layout.statusColor, 300, 300, \"status-legend\", \"Stare\");\n    Layout.createLegend(Layout.countyColor, 900, 1100, \"county-legend\", \"Județ\");\n    Layout.createLegend(Layout.genderColor, 200, 200, \"gender-legend\", \"Gen\");\n    Layout.createLegend(Layout.ageColor, 400, 400, \"age-legend\", \"Vârstă\");\n\n    Layout.showLegend(\"status-legend\");\n\n    // Change colors from status to counties and vice versa\n    d3.select(\"#color-counties\")\n        .on(\"click\", () => Layout.coloreazaJudete(Layout.countyColor));\n    d3.select(\"#color-status\")\n        .on(\"click\", () => Layout.coloreazaStatus(Layout.statusColor));\n    d3.select(\"#color-gender\")\n        .on(\"click\", () => Layout.coloreazaGen(Layout.genderColor));\n    d3.select(\"#color-age\")\n        .on(\"click\", () => Layout.coloreazaVarsta(Layout.ageColor));\n\n    // Case slider to highlight nodes by id\n    // https://bl.ocks.org/d3noob/c4b31a539304c29767a56c2373eeed79/9d18fc47e580d8c940ffffea1179e77e62647e36\n    const cases = Array.from(new Set(graph.nodes.map(d => d.properties ? d.properties.case_no : \"\")));\n\n    d3.select(\"#nRadius\").property(\"max\", d3.max(cases));\n    // update the slider\n    const updateRadius = (nRadius) => {\n        if (cases.includes(nRadius)) {\n            // adjust the text on the range slider\n            d3.select(\"#nRadius-value\").text(nRadius);\n            d3.select(\"#nRadius\").property(\"value\", nRadius);\n            d3.select(\"#search-input\").property(\"value\", nRadius);\n\n            // highlight case\n            d3.selectAll(\"circle\")\n                .attr(\"r\", 5);\n            d3.select(\"#CO-\" + nRadius)\n                .attr(\"r\", 15)\n                .dispatch('mouseover')\n                .dispatch('click');\n        }\n    }\n\n    const panTo = d => {\n        d3.event.stopPropagation();\n        g.transition().duration(750).call(\n            zoom.transform,\n            d3.zoomIdentity\n                .translate(Config.width / 2, Config.height / 2)\n                .translate(-d.x, -d.y)\n        );\n    };\n\n    // when the input range changes highlight the circle\n    d3.select(\"#nRadius\").on(\"input\", function() {\n        updateRadius(+this.value);\n    });\n    // Select latest case\n    updateRadius(d3.max(cases));\n\n    // Setup the simulation\n    // https://gist.github.com/mbostock/1153292\n\n    const ticked = () => {\n        update(links, nodes)\n    };\n    const update = (links, nodes) => {\n        links.attr(\"d\", Simulation.linkArc);\n        nodes.attr(\"transform\", d => `translate(${d.x},${d.y})`);\n    };\n\n    simulation = d3.forceSimulation(graph.nodes)\n        .force(\"link\", d3.forceLink(graph.links).id( d => {\n            let name = JSON.parse(JSON.stringify(d)).name;\n            return name;\n        }))\n        .force(\"charge\", d3.forceManyBody()\n            .strength(-100)\n            .distanceMax(1000))\n        .force(\"center\", d3.forceCenter(Config.width / 2, Config.height / 2))\n        // .force('collision', d3.forceCollide().radius( d =>  d.radius ))\n        .force(\"x\", d3.forceX())\n        .force(\"y\", d3.forceY())\n        .alphaDecay([0.02]);\n        // .stop();\n\n    simulation.on('tick', ticked);\n    simulation.force('link').links(graph.links);\n    // Append the svg object to the chart div, and a group for nodes and links\n    const svg = d3.select(\"#chart\")\n        .append(\"svg\")\n            .attr(\"class\", \"chart-group\")\n            .attr(\"preserveAspectRatio\", \"xMidYMid\")\n            .attr(\"width\", Config.svg_width)\n            .attr(\"height\", Config.svg_height)\n            .attr(\"viewBox\", '0, 0 ' + Config.svg_width + ' ' + Config.svg_height)\n            .on(\"click\", () => { Tooltip.unHighlight(); });\n    const g = svg.append(\"g\");\n        // .attr(\"transform-origin\", \"50% 50% 0\");\n\n    // Add counties map\n    const geojsonFeatures = topojson.feature(geoData, {\n        type: \"GeometryCollection\",\n        geometries: geoData.objects[layer].geometries\n    });\n\n    const thisMapPath = d3.geoPath()\n        .projection(\n            Config.projection\n                  .fitSize([Config.width, Config.height], geojsonFeatures)\n                  );\n\n    const map = g.append(\"g\")\n        .attr(\"class\", \"map-features\")\n        .selectAll(\"path\")\n            .data(geoCounties)\n            .enter()\n            .append(\"path\")\n            .attr(\"d\", thisMapPath)\n                .attr(\"class\", \"land\")\n                .attr(\"opacity\", 0.25);\n\n    // Add arrows for links\n    const markerTypes = Array.from(new Set(graph.nodes.map(d => d.source)));\n    g.append(\"defs\").selectAll(\"marker\")\n        .data(markerTypes)\n            .join(\"marker\")\n                .attr(\"id\", d => `arrow-${d}`)\n                .attr(\"viewBox\", \"0 -5 10 10\")\n                .attr(\"refX\", 15)\n                .attr(\"refY\", -0.5)\n                .attr(\"markerWidth\", 6)\n                .attr(\"markerHeight\", 6)\n                .attr(\"orient\", \"auto\")\n            .append(\"path\")\n                .attr(\"fill\", \"#999\")\n                .attr(\"d\", \"M0,-5L10,0L0,5\");\n    \n    links = g.append(\"g\")\n            .attr(\"class\", \"link\")\n            .selectAll(\"path\")\n            .data(graph.links)\n            .join(\"path\")\n                .attr(\"marker-end\", d => `url(${new URL(`#arrow-${d.type}`, location.toString())})`);\n    links.exit().remove();\n\n    nodes = g.append(\"g\")\n        .attr(\"class\", \"node\")\n        .selectAll(\"g\")\n        .data(graph.nodes)\n        .join(\"g\")\n            .call(Simulation.drag(simulation, positioning));\n\n    const fade = Utils.setFade(graph.links);\n\n    nodes.append(\"circle\")\n        .attr(\"id\", d => d.properties && `CO-${d.properties.case_no}`)\n        .attr(\"r\", 5)\n        .on(\"touchmove mouseover\", d => {\n            Tooltip.highlight(d);\n            // fade(nodes, links, .2);\n        }).on(\"click\", panTo);\n\n    nodes.append(\"text\")\n        .attr(\"class\", \"node-labels\")\n        .attr(\"x\", 8)\n        .attr(\"y\", \"0.31em\")\n        .text(d => {\n            return d.is_country_of_infection ? d.country_name : (\"#\" + d.name);\n        })\n        .clone(true).lower();\n    nodes.exit().remove();\n\n    // Color the legend for counties\n    Layout.coloreazaStatus();\n\n    // Apply zoom handler\n    zoom(svg);\n\n    // Toggle map\n    // https://bl.ocks.org/cmgiven/4cfa1a95f9b952622280a90138842b79\n    const fixed = (immediate) => {\n        graph.nodes.forEach(function (d) {\n            const pos = Config.projection([d.longitude, d.latitude]);\n            d.x = pos[0] || d.x;\n            d.y = pos[1] || d.y;\n        });\n\n        const t = d3.transition()\n            .duration(immediate ? 0 : 800)\n            .ease(d3.easeElastic.period(0.5));\n\n        update(links.transition(t), nodes.transition(t));\n    };\n\n    const toggleMap = (positioning) => {\n        if (positioning === \"diagram\") {\n            positioning = \"map\";\n            map.attr(\"opacity\", 1);\n            simulation.stop();\n            fixed();\n        } else {\n            positioning = \"diagram\";\n            map.attr(\"opacity\", 0.25);\n            simulation.alpha(1).restart();\n        };\n        nodes.call(Simulation.drag(simulation, positioning));\n    };\n\n    d3.select(\"#show-map\")\n        .on(\"click\", () => toggleMap(\"diagram\"));\n    d3.select(\"#show-graph\")\n        .on(\"click\", () => toggleMap(\"map\"));\n\n    const toggleLegend = () => {\n        if (legendStatus === true) {\n            d3.select(\"#legend-div\").classed(\"hide\", true);\n            legendStatus = false;\n        } else {\n            d3.select(\"#legend-div\").classed(\"hide\", false);\n            legendStatus = true;\n        };\n    };\n    d3.select(\"#legend-div\").classed(\"hide\", false);\n    d3.select(\"#toggle-legend\")\n        .on(\"click\", () => toggleLegend());\n\n    const searchByCaseId = (caseId) => {\n        if (cases.includes(caseId)) {\n            // highlight case\n            d3.selectAll(\"circle\")\n                .attr(\"r\", 5);\n            d3.select(\"#CO-\" + caseId)\n                .attr(\"r\", 15)\n                .dispatch('mouseover')\n                .dispatch('click');\n        }\n    }\n    d3.select(\"#nRadius\").on(\"input\", function() {\n        updateRadius(+this.value);\n    });\n\n    d3.select(\"#search-case\")\n        .on(\"click\", () => {\n            if (searchStatus === true) {\n                d3.select(\"#search-input\").classed(\"hide\", false);\n                searchStatus = false;\n            } else {\n                d3.select(\"#search-input\").classed(\"hide\", true);\n                searchStatus = true;\n            };\n        });\n    d3.select(\"#search-input\")\n        .on(\"input\", function() {\n            searchByCaseId(+this.value);\n        });\n\n    g.transition().call(zoom.scaleBy, 0.5);\n\n    setTimeout(function() {\n        simulation.stop();\n        spinner.stop();\n        d3.select(\"tooltip_div\").classed(\"tooltip-abs\", true);\n        d3.select(\"#CO-\" + d3.max(cases))\n            .attr(\"r\", 15)\n            .dispatch('mouseover')\n            .dispatch('click');\n    }, 5000);\n};\n\n}).call(this);","// https://bl.ocks.org/martinjc/5e73d17699573ccd7c2d4468d61dce17/8c047553db6e8627553165ee283cfd525416605c\n// build a dictionary of nodes that are linked\n\nexport const setFade = links => {\n    const linkedByIndex = {};\n    links.forEach(function(d) {\n        linkedByIndex[d.source.index + \",\" + d.target.index] = 1;\n    });\n\n    // check the dictionary to see if nodes are linked\n    const isConnected = (a, b) => {\n        return linkedByIndex[a.index + \",\" + b.index] || linkedByIndex[b.index + \",\" + a.index] || a.index == b.index;\n    }\n\n    // fade nodes on hover\n    const fade = (node, link, opacity) => {\n        // TODO redo\n        return function(d) {\n            // check all other nodes to see if they're connected\n            // to this one. if so, keep the opacity at 1, otherwise\n            // fade\n            node.style(\"stroke-opacity\", function(o) {\n                const thisOpacity = isConnected(d, o) ? 1 : opacity;\n                return thisOpacity;\n            });\n            node.style(\"fill-opacity\", function(o) {\n                const thisOpacity = isConnected(d, o) ? 1 : opacity;\n                return thisOpacity;\n            });\n            // also style link accordingly\n            link.style(\"stroke-opacity\", function(o) {\n                return o.source === d || o.target === d ? 1 : opacity;\n            });\n        };\n    }\n\n    return fade;\n}\n"],"names":["margin","width","window","innerWidth","height","innerHeight","svg_width","svg_height","projection","d3","geoAlbers","center","rotate","parallels","scale","tooltip_div","geoPath","select","append","attr","style","tooltipHTML","d","undefined","properties","case_no","gender","age","county","status","healing_date","reference","name","drag","simulation","positioning","on","event","active","alphaTarget","restart","fx","x","fy","y","linkArc","r","Math","hypot","target","source","statusColor","scaleOrdinal","domain","countyColor","genderColor","ageColor","scaleQuantile","range","schemeSpectral","coloreazaStatus","selectAll","transition","duration","showLegend","createLegend","colorScale","vbHeight","legendClass","legendTitle","legend","categoryLegend","legendColor","shape","symbol","type","symbolCircle","size","shapePadding","title","titleWidth","labelFormat","format","labelAlign","call","category","classed","links","nodes","casesData","geoData","layer","geoCounties","graph","legendStatus","infoStatus","searchStatus","spinner","opts","lines","length","radius","corners","color","opacity","direction","speed","trail","fps","zIndex","className","shadow","hwaccel","position","document","getElementById","promises","json","Promise","all","then","data","Spinner","spin","setupGraph","setTimeout","drawGraph","catch","error","console","log","sources","filter","country_of_infection","concat","Array","from","Set","map","topojson","feature","objects","features","countiesCentroids","forEach","set","lat","lon","latitude","get","longitude","zoom","scaleExtent","g","transform","scaleBy","zoomIdentity","zoomTransform","node","invert","Config.svg_width","Config.svg_height","showInfo","Tooltip.tooltip_div","html","Layout.createLegend","Layout.statusColor","Layout.countyColor","Layout.genderColor","Layout.ageColor","Layout.showLegend","Layout.coloreazaJudete","Layout.coloreazaStatus","Layout.coloreazaGen","Layout.coloreazaVarsta","cases","property","max","updateRadius","nRadius","includes","text","dispatch","this","value","update","Simulation.linkArc","forceSimulation","force","forceLink","id","JSON","parse","stringify","forceManyBody","strength","distanceMax","forceCenter","Config.width","Config.height","forceX","forceY","alphaDecay","svg","geojsonFeatures","geometries","thisMapPath","Config.projection","fitSize","enter","markerTypes","join","URL","location","toString","exit","remove","Simulation.drag","linkedByIndex","index","isConnected","a","b","Utils.setFade","left","pageX","top","pageY","Tooltip.highlight","stopPropagation","translate","is_country_of_infection","country_name","clone","lower","toggleMap","stop","immediate","pos","t","ease","easeElastic","period","fixed","alpha","caseId"],"mappings":"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"}