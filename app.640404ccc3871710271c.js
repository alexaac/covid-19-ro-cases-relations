(()=>{var t={425:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,r="",i=0,o=-1,a=0,u=0;u<=t.length;++u){if(u<t.length)n=t.charCodeAt(u);else{if(47===n)break;n=47}if(47===n){if(o===u-1||1===a);else if(o!==u-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var s=r.lastIndexOf("/");if(s!==r.length-1){-1===s?(r="",i=0):i=(r=r.slice(0,s)).length-1-r.lastIndexOf("/"),o=u,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=u,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,u):r=t.slice(o+1,u),i=u-o-1;o=u,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var t,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!r)).length||r||(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":r.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=r.resolve(t))===(n=r.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,a=o-i,u=1;u<n.length&&47===n.charCodeAt(u);++u);for(var s=n.length-u,l=a<s?a:s,c=-1,f=0;f<=l;++f){if(f===l){if(s>l){if(47===n.charCodeAt(u+f))return n.slice(u+f+1);if(0===f)return n.slice(u+f)}else a>l&&(47===t.charCodeAt(i+f)?c=f:0===f&&(c=0));break}var h=t.charCodeAt(i+f);if(h!==n.charCodeAt(u+f))break;47===h&&(c=f)}var d="";for(f=i+c+1;f<=o;++f)f!==o&&47!==t.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(u+c):(u+=c,47===n.charCodeAt(u)&&++u,n.slice(u))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),r=47===n,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(n=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var u=n.length-1,s=-1;for(r=t.length-1;r>=0;--r){var l=t.charCodeAt(r);if(47===l){if(!a){i=r+1;break}}else-1===s&&(a=!1,s=r+1),u>=0&&(l===n.charCodeAt(u)?-1==--u&&(o=r):(u=-1,o=s))}return i===o?o=s:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var n=-1,r=0,i=-1,o=!0,a=0,u=t.length-1;u>=0;--u){var s=t.charCodeAt(u);if(47!==s)-1===i&&(o=!1,i=u+1),46===s?-1===n?n=u:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=u+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var r,i=t.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,u=0,s=-1,l=!0,c=t.length-1,f=0;c>=r;--c)if(47!==(i=t.charCodeAt(c)))-1===s&&(l=!1,s=c+1),46===i?-1===a?a=c:1!==f&&(f=1):-1!==a&&(f=-1);else if(!l){u=c+1;break}return-1===a||-1===s||0===f||1===f&&a===s-1&&a===u+1?-1!==s&&(n.base=n.name=0===u&&o?t.slice(1,s):t.slice(u,s)):(0===u&&o?(n.name=t.slice(1,a),n.base=t.slice(1,s)):(n.name=t.slice(u,a),n.base=t.slice(u,s)),n.ext=t.slice(a,s)),u>0?n.dir=t.slice(0,u-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},989:t=>{var e,n=["webkit","Moz","ms","O"],r={};function i(t,e){var n,r=document.createElement(t||"div");for(n in e)r[n]=e[n];return r}function o(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}var a,u=(a=i("style"),o(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet);function s(t,n,i,o){var a=["opacity",n,~~(100*t),i,o].join("-"),s=.01+i/o*100,l=Math.max(1-(1-t)/n*(100-s),t),c=e.substring(0,e.indexOf("Animation")).toLowerCase(),f=c&&"-"+c+"-"||"";return r[a]||(u.insertRule("@"+f+"keyframes "+a+"{0%{opacity:"+l+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+n)%100+"%{opacity:"+t+"}100%{opacity:"+l+"}}",0),r[a]=1),a}function l(t,e){var r,i,o=t.style;if(void 0!==o[e])return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<n.length;i++)if(void 0!==o[r=n[i]+e])return r}function c(t,e){for(var n in e)t.style[l(t,n)||n]=e[n];return t}function f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)void 0===t[r]&&(t[r]=n[r])}return t}function h(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var d={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},p=function t(e){if(!this.spin)return new t(e);this.opts=f(e||{},t.defaults,d)};p.defaults={},f(p.prototype,{spin:function(t){this.stop();var n,r,o=this,a=o.opts,u=o.el=c(i(0,{className:a.className}),{position:"relative",zIndex:a.zIndex}),s=a.radius+a.length+a.width;if(t&&(t.insertBefore(u,t.firstChild||null),r=h(t),n=h(u),c(u,{left:("auto"==a.left?r.x-n.x+(t.offsetWidth>>1):a.left+s)+"px",top:("auto"==a.top?r.y-n.y+(t.offsetHeight>>1):a.top+s)+"px"})),u.setAttribute("aria-role","progressbar"),o.lines(u,o.opts),!e){var l=0,f=a.fps,d=f/a.speed,p=(1-a.opacity)/(d*a.trail/100),g=d/a.lines;!function t(){l++;for(var e=a.lines;e;e--){var n=Math.max(1-(l+e*g)%d*p,a.opacity);o.opacity(u,a.lines-e,n,a)}o.timeout=o.el&&setTimeout(t,~~(1e3/f))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(t,n){var r,a=0;function u(t,e){return c(i(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*a+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.width>>1)+"px"})}for(;a<n.lines;a++)r=c(i(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:e&&s(n.opacity,n.trail,a,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&o(r,c(u("#000","0 0 4px #000"),{top:"2px"})),o(t,o(r,u(n.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),function(){function t(t,e){return i("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var n=c(i("group"),{behavior:"url(#default#VML)"});!l(n,"transform")&&n.adj?(u.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(e,n){var r=n.length+n.width,i=2*r;function a(){return c(t("group",{coordsize:i+" "+i,coordorigin:-r+" "+-r}),{width:i,height:i})}var u,s=2*-(n.width+n.length)+"px",l=c(a(),{position:"absolute",top:s,left:s});function f(e,i,u){o(l,o(c(a(),{rotation:360/n.lines*e+"deg",left:~~i}),o(c(t("roundrect",{arcsize:1}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:u}),t("fill",{color:n.color,opacity:n.opacity}),t("stroke",{opacity:0}))))}if(n.shadow)for(u=1;u<=n.lines;u++)f(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=n.lines;u++)f(u);return o(e,l)},p.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&e+r<i.childNodes.length&&(i=(i=(i=i.childNodes[e+r])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}):e=l(n,"animation")}(),t.exports=p}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{blob:()=>Dt,buffer:()=>Lt,csv:()=>Zt,dsv:()=>Wt,html:()=>ne,image:()=>Jt,json:()=>Kt,svg:()=>re,text:()=>Xt,tsv:()=>Gt,xml:()=>ee});var e={};n.r(e),n.d(e,{forceCenter:()=>ie,forceCollide:()=>ye,forceLink:()=>De,forceManyBody:()=>un,forceRadial:()=>sn,forceSimulation:()=>an,forceX:()=>ln,forceY:()=>cn});var r=n(425);function i(){}function o(t){return null==t?i:function(){return this.querySelector(t)}}function a(){return[]}function u(t){return null==t?a:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function l(t){return new Array(t.length)}function c(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}c.prototype={constructor:c,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function f(t,e,n,r,i,o){for(var a,u=0,s=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new c(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function h(t,e,n,r,i,o,a){var u,s,l,f={},h=e.length,d=o.length,p=new Array(h);for(u=0;u<h;++u)(s=e[u])&&(p[u]=l="$"+a.call(s,s.__data__,u,e),l in f?i[u]=s:f[l]=s);for(u=0;u<d;++u)(s=f[l="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],f[l]=null):n[u]=new c(t,o[u]);for(u=0;u<h;++u)(s=e[u])&&f[p[u]]===s&&(i[u]=s)}function d(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var p="http://www.w3.org/1999/xhtml";const g={svg:"http://www.w3.org/2000/svg",xhtml:p,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function v(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),g.hasOwnProperty(e)?{space:g[e],local:t}:t}function y(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _(t,e){return function(){this.setAttribute(t,e)}}function w(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function b(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function M(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function A(t){return function(){this.style.removeProperty(t)}}function k(t,e,n){return function(){this.style.setProperty(t,e,n)}}function C(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function T(t,e){return t.style.getPropertyValue(e)||M(t).getComputedStyle(t,null).getPropertyValue(e)}function N(t){return function(){delete this[t]}}function z(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function D(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function U(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function O(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function R(t){return function(){U(this,t)}}function j(t){return function(){O(this,t)}}function I(t,e){return function(){(e.apply(this,arguments)?U:O)(this,t)}}function Y(){this.textContent=""}function q(t){return function(){this.textContent=t}}function F(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function P(){this.innerHTML=""}function B(t){return function(){this.innerHTML=t}}function H(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function V(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===p&&e.documentElement.namespaceURI===p?e.createElement(t):e.createElementNS(n,t)}}function W(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Z(t){var e=v(t);return(e.local?W:$)(e)}function G(){return null}function J(){var t=this.parentNode;t&&t.removeChild(this)}function Q(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function K(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tt={},et=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(tt={mouseenter:"mouseover",mouseleave:"mouseout"}));function nt(t,e,n){return t=rt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function rt(t,e,n){return function(r){var i=et;et=r;try{t.call(this,this.__data__,e,n)}finally{et=i}}}function it(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ot(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function at(t,e,n){var r=tt.hasOwnProperty(t.type)?nt:rt;return function(i,o,a){var u,s=this.__on,l=r(e,o,a);if(s)for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function ut(t,e,n){var r=M(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function st(t,e){return function(){return ut(this,t,e)}}function lt(t,e){return function(){return ut(this,t,e.apply(this,arguments))}}var ct=[null];function ft(t,e){this._groups=t,this._parents=e}function ht(){return new ft([[document.documentElement]],ct)}ft.prototype=ht.prototype={constructor:ft,select:function(t){"function"!=typeof t&&(t=o(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,u,s=e[i],l=s.length,c=r[i]=new Array(l),f=0;f<l;++f)(a=s[f])&&(u=t.call(a,a.__data__,f,s))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u);return new ft(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new ft(r,i)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new ft(r,this._parents)},data:function(t,e){if(!t)return g=new Array(this.size()),l=-1,this.each((function(t){g[++l]=t})),g;var n=e?h:f,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],d=i[l],p=d.length,g=t.call(c,c&&c.__data__,l,r),v=g.length,y=u[l]=new Array(v),m=a[l]=new Array(v);n(c,d,y,m,s[l]=new Array(p),g,e);for(var _,w,x=0,b=0;x<v;++x)if(_=y[x]){for(x>=b&&(b=x+1);!(w=m[b])&&++b<v;);_._next=w||null}}return(a=new ft(a,r))._enter=u,a._exit=s,a},enter:function(){return new ft(this._enter||this._groups.map(l),this._parents)},exit:function(){return new ft(this._exit||this._groups.map(l),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new ft(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=d);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(e)}return new ft(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=v(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?m:y:"function"==typeof e?n.local?b:x:n.local?w:_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?A:"function"==typeof e?C:k)(t,e,null==n?"":n)):T(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?N:"function"==typeof e?S:z)(t,e)):this.node()[t]},classed:function(t,e){var n=D(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?I:e?R:j)(n,e))},text:function(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?F:q)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?H:B)(t)):this.node().innerHTML},raise:function(){return this.each(V)},lower:function(){return this.each(X)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Z(t),r=null==e?G:"function"==typeof e?e:o(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(J)},clone:function(t){return this.select(t?K:Q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=it(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?at:ot,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?lt:st)(t,e))}};const dt=ht;function pt(t){return"string"==typeof t?new ft([[document.querySelector(t)]],[document.documentElement]):new ft([[t]],ct)}function gt(t){return"string"==typeof t?new ft([document.querySelectorAll(t)],[document.documentElement]):new ft([null==t?[]:t],ct)}function vt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var yt,mt,_t=(1===(yt=vt).length&&(mt=yt,yt=function(t,e){return vt(mt(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;yt(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;yt(t[i],e)>0?r=i:n=i+1}return n}});const wt=_t.right;var xt=Array.prototype,bt=(xt.slice,xt.map,Math.sqrt(50)),Mt=Math.sqrt(10),At=Math.sqrt(2);function kt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=bt?10:o>=Mt?5:o>=At?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=bt?10:o>=Mt?5:o>=At?2:1)}function Ct(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function Tt(t){return null===t?NaN:+t}function Nt(t,e,n){if(null==n&&(n=Tt),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function zt(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}function St(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Dt(t,e){return fetch(t,e).then(St)}function Et(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Lt(t,e){return fetch(t,e).then(Et)}var Ut={},Ot={};function Rt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function jt(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function It(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Yt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+It(-t,6):t>9999?"+"+It(t,6):It(t,4)}(t.getUTCFullYear())+"-"+It(t.getUTCMonth()+1,2)+"-"+It(t.getUTCDate(),2)+(i?"T"+It(e,2)+":"+It(n,2)+":"+It(r,2)+"."+It(i,3)+"Z":r?"T"+It(e,2)+":"+It(n,2)+":"+It(r,2)+"Z":n||e?"T"+It(e,2)+":"+It(n,2)+"Z":"")}function qt(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return Ot;if(l)return l=!1,Ut;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==Ot;){for(var f=[];r!==Ut&&r!==Ot;)f.push(r),r=c();e&&null==(f=e(f,u++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Yt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Rt(t);return function(r,i){return e(n(r),i,t)}}(t,e):Rt(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=jt(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=jt(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Ft=qt(","),Pt=Ft.parse,Bt=(Ft.parseRows,Ft.format,Ft.formatBody,Ft.formatRows,Ft.formatRow,Ft.formatValue,qt("\t")),Ht=Bt.parse;Bt.parseRows,Bt.format,Bt.formatBody,Bt.formatRows,Bt.formatRow,Bt.formatValue;function Vt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Xt(t,e){return fetch(t,e).then(Vt)}function $t(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Xt(e,n).then((function(e){return t(e,r)}))}}function Wt(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=qt(t);return Xt(e,n).then((function(t){return i.parse(t,r)}))}var Zt=$t(Pt),Gt=$t(Ht);function Jt(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Qt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Kt(t,e){return fetch(t,e).then(Qt)}function te(t){return function(e,n){return Xt(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}const ee=te("application/xml");var ne=te("text/html"),re=te("image/svg+xml");function ie(t,e){var n;function r(){var r,i,o=n.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=n[r]).x,u+=i.y;for(a=a/o-t,u=u/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=u}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}function oe(t){return function(){return t}}function ae(){return 1e-6*(Math.random()-.5)}function ue(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,l,c,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a,i=d,!(d=d[f=c<<1|l]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&n===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a}while((f=c<<1|l)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}function se(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function le(t){return t[0]}function ce(t){return t[1]}function fe(t,e,n){var r=new he(null==e?le:e,null==n?ce:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function he(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function de(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var pe=fe.prototype=he.prototype;function ge(t){return t.x+t.vx}function ve(t){return t.y+t.vy}function ye(t){var e,n,r=1,i=1;function o(){for(var t,o,u,s,l,c,f,h=e.length,d=0;d<i;++d)for(o=fe(e,ge,ve).visitAfter(a),t=0;t<h;++t)u=e[t],c=n[u.index],f=c*c,s=u.x+u.vx,l=u.y+u.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,h=t.r,d=c+h;if(!a)return e>s+d||i<s-d||n>l+d||o<l-d;if(a.index>u.index){var p=s-a.x-a.vx,g=l-a.y-a.vy,v=p*p+g*g;v<d*d&&(0===p&&(v+=(p=ae())*p),0===g&&(v+=(g=ae())*g),v=(d-(v=Math.sqrt(v)))/v*r,u.vx+=(p*=v)*(d=(h*=h)/(f+h)),u.vy+=(g*=v)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=oe(null==t?1:+t)),o.initialize=function(t){e=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:oe(+e),u(),o):t},o}pe.copy=function(){var t,e,n=new he(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=de(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=de(e));return n},pe.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ue(this.cover(e,n),e,n,t)},pe.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<o;++n)ue(this,a[n],u[n],t[n]);return this},pe.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,s=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},pe.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},pe.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},pe.find=function(t,e,n){var r,i,o,a,u,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new se(g,c,f,h,d)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,d=e+n,n*=n);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<c||(u=s.y1)<f))if(g.length){var v=(i+a)/2,y=(o+u)/2;p.push(new se(g[3],v,y,a,u),new se(g[2],i,y,v,u),new se(g[1],v,o,a,y),new se(g[0],i,o,v,y)),(l=(e>=y)<<1|t>=v)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var m=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),w=m*m+_*_;if(w<n){var x=Math.sqrt(n=w);c=t-x,f=e-x,h=t+x,d=e+x,r=g.data}}return r},pe.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,l,c,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(u=(p+v)/2))?p=u:v=u,(c=a>=(s=(g+y)/2))?g=s:y=s,e=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},pe.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},pe.root=function(){return this._root},pe.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},pe.visit=function(t){var e,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new se(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var l=(r+o)/2,c=(i+a)/2;(n=s[3])&&u.push(new se(n,l,c,o,a)),(n=s[2])&&u.push(new se(n,r,c,l,a)),(n=s[1])&&u.push(new se(n,l,i,o,c)),(n=s[0])&&u.push(new se(n,r,i,l,c))}return this},pe.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new se(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,l=e.y1,c=(a+s)/2,f=(u+l)/2;(o=i[0])&&n.push(new se(o,a,u,c,f)),(o=i[1])&&n.push(new se(o,c,u,s,f)),(o=i[2])&&n.push(new se(o,a,f,c,l)),(o=i[3])&&n.push(new se(o,c,f,s,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},pe.x=function(t){return arguments.length?(this._x=t,this):this._x},pe.y=function(t){return arguments.length?(this._y=t,this):this._y};var me="$";function _e(){}function we(t,e){var n=new _e;if(t instanceof _e)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}_e.prototype=we.prototype={constructor:_e,has:function(t){return me+t in this},get:function(t){return this[me+t]},set:function(t,e){return this[me+t]=e,this},remove:function(t){var e=me+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===me&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===me&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===me&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===me&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===me&&++t;return t},empty:function(){for(var t in this)if(t[0]===me)return!1;return!0},each:function(t){for(var e in this)e[0]===me&&t(this[e],e.slice(1),this)}};const xe=we;function be(){return{}}function Me(t,e,n){t[e]=n}function Ae(){return xe()}function ke(t,e,n){t.set(e,n)}function Ce(){}var Te=xe.prototype;function Ne(t,e){var n=new Ce;if(t instanceof Ce)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Ce.prototype=Ne.prototype={constructor:Ce,has:Te.has,add:function(t){return this[me+(t+="")]=t,this},remove:Te.remove,clear:Te.clear,values:Te.keys,size:Te.size,empty:Te.empty,each:Te.each};function ze(t){return t.index}function Se(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function De(t){var e,n,r,i,o,a=ze,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=oe(30),l=1;function c(r){for(var i=0,a=t.length;i<l;++i)for(var u,s,c,f,h,d,p,g=0;g<a;++g)s=(u=t[g]).source,f=(c=u.target).x+c.vx-s.x-s.vx||ae(),h=c.y+c.vy-s.y-s.vy||ae(),f*=d=((d=Math.sqrt(f*f+h*h))-n[g])/d*r*e[g],h*=d,c.vx-=f*(p=o[g]),c.vy-=h*p,s.vx+=f*(p=1-p),s.vy+=h*p}function f(){if(r){var u,s,l=r.length,c=t.length,f=xe(r,a);for(u=0,i=new Array(l);u<c;++u)(s=t[u]).index=u,"object"!=typeof s.source&&(s.source=Se(f,s.source)),"object"!=typeof s.target&&(s.target=Se(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(u=0,o=new Array(c);u<c;++u)s=t[u],o[u]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);e=new Array(c),h(),n=new Array(c),d()}}function h(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){r=t,f()},c.links=function(e){return arguments.length?(t=e,f(),c):t},c.id=function(t){return arguments.length?(a=t,c):a},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(u="function"==typeof t?t:oe(+t),h(),c):u},c.distance=function(t){return arguments.length?(s="function"==typeof t?t:oe(+t),d(),c):s},c}var Ee={value:function(){}};function Le(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ue(r)}function Ue(t){this._=t}function Oe(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Re(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function je(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ee,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ue.prototype=Le.prototype={constructor:Ue,on:function(t,e){var n,r=this._,i=Oe(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=je(r[n],t.name,e);else if(null==e)for(n in r)r[n]=je(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Re(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ue(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Ie=Le;var Ye,qe,Fe=0,Pe=0,Be=0,He=0,Ve=0,Xe=0,$e="object"==typeof performance&&performance.now?performance:Date,We="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ze(){return Ve||(We(Ge),Ve=$e.now()+Xe)}function Ge(){Ve=0}function Je(){this._call=this._time=this._next=null}function Qe(t,e,n){var r=new Je;return r.restart(t,e,n),r}function Ke(){Ve=(He=$e.now())+Xe,Fe=Pe=0;try{!function(){Ze(),++Fe;for(var t,e=Ye;e;)(t=Ve-e._time)>=0&&e._call.call(null,t),e=e._next;--Fe}()}finally{Fe=0,function(){var t,e,n=Ye,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ye=e);qe=t,en(r)}(),Ve=0}}function tn(){var t=$e.now(),e=t-He;e>1e3&&(Xe-=e,He=t)}function en(t){Fe||(Pe&&(Pe=clearTimeout(Pe)),t-Ve>24?(t<1/0&&(Pe=setTimeout(Ke,t-$e.now()-Xe)),Be&&(Be=clearInterval(Be))):(Be||(He=$e.now(),Be=setInterval(tn,1e3)),Fe=1,We(Ke)))}function nn(t){return t.x}function rn(t){return t.y}Je.prototype=Qe.prototype={constructor:Je,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ze():+n)+(null==e?0:+e),this._next||qe===this||(qe?qe._next=this:Ye=this,qe=this),this._call=t,this._time=n,en()},stop:function(){this._call&&(this._call=null,this._time=1/0,en())}};var on=Math.PI*(3-Math.sqrt(5));function an(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=xe(),s=Qe(c),l=Ie("tick","end");function c(){f(),l.call("tick",e),n<r&&(s.stop(),l.call("end",e))}function f(r){var s,l,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,u.each((function(t){t(n)})),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*on;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:f,restart:function(){return s.restart(c),e},stop:function(){return s.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),u.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?u.remove(t):u.set(t,d(n)),e):u.get(t)},find:function(e,n,r){var i,o,a,u,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(u=t[l]).x)*i+(o=n-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function un(){var t,e,n,r,i=oe(-30),o=1,a=1/0,u=.81;function s(r){var i,o=t.length,a=fe(t,nn,rn).visitAfter(c);for(n=r,i=0;i<o;++i)e=t[i],a.visit(f)}function l(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function c(t){var e,n,i,o,a,u=0,s=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,i+=n*e.x,o+=n*e.y);t.x=i/s,t.y=o/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=r[e.data.index]}while(e=e.next)}t.value=u}function f(t,i,s,l){if(!t.value)return!0;var c=t.x-e.x,f=t.y-e.y,h=l-i,d=c*c+f*f;if(h*h/u<d)return d<a&&(0===c&&(d+=(c=ae())*c),0===f&&(d+=(f=ae())*f),d<o&&(d=Math.sqrt(o*d)),e.vx+=c*t.value*n/d,e.vy+=f*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===c&&(d+=(c=ae())*c),0===f&&(d+=(f=ae())*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(h=r[t.data.index]*n/d,e.vx+=c*h,e.vy+=f*h)}while(t=t.next)}}return s.initialize=function(e){t=e,l()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:oe(+t),l(),s):i},s.distanceMin=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.distanceMax=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.theta=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s}function sn(t,e,n){var r,i,o,a=oe(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var s=r[a],l=s.x-e||1e-6,c=s.y-n||1e-6,f=Math.sqrt(l*l+c*c),h=(o[a]-f)*i[a]*t/f;s.vx+=l*h,s.vy+=c*h}}function s(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=oe(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){r=t,s()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:oe(+t),s(),u):a},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:oe(+e),s(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u}function ln(t){var e,n,r,i=oe(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=oe(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:oe(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:oe(+e),a(),o):t},o}function cn(t){var e,n,r,i=oe(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=oe(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:oe(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:oe(+e),a(),o):t},o}var fn=n(989);const hn=10,dn=10,pn=10,gn=10,vn=window.innerWidth-dn-gn,yn=window.innerHeight-hn-pn,mn=vn+dn+gn,_n=yn+hn+pn;var wn=new Date,xn=new Date;function bn(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return bn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return wn.setTime(+e),xn.setTime(+r),t(wn),t(xn),Math.floor(n(wn,xn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Mn=864e5,An=6048e5;function kn(t){return bn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/An}))}var Cn=kn(0),Tn=kn(1),Nn=kn(2),zn=kn(3),Sn=kn(4),Dn=kn(5),En=kn(6),Ln=(Cn.range,Tn.range,Nn.range,zn.range,Sn.range,Dn.range,En.range,bn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Mn}),(function(t){return t.getUTCDate()-1})));const Un=Ln;Ln.range;function On(t){return bn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/An}))}var Rn=On(0),jn=On(1),In=On(2),Yn=On(3),qn=On(4),Fn=On(5),Pn=On(6),Bn=(Rn.range,jn.range,In.range,Yn.range,qn.range,Fn.range,Pn.range,bn((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/Mn}),(function(t){return t.getDate()-1})));const Hn=Bn;Bn.range;var Vn=bn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Vn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?bn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const Xn=Vn;Vn.range;var $n=bn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));$n.every=function(t){return isFinite(t=Math.floor(t))&&t>0?bn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Wn=$n;$n.range;function Zn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Qn,Kn,tr={"-":"",_:" ",0:"0"},er=/^\s*\d+/,nr=/^%/,rr=/[\\^$*+?|[\]().{}]/g;function ir(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function or(t){return t.replace(rr,"\\$&")}function ar(t){return new RegExp("^(?:"+t.map(or).join("|")+")","i")}function ur(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function sr(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lr(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dr(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function pr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vr(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function yr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function mr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _r(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xr(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function br(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ar(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kr(t,e,n){var r=nr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cr(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Nr(t,e){return ir(t.getDate(),e,2)}function zr(t,e){return ir(t.getHours(),e,2)}function Sr(t,e){return ir(t.getHours()%12||12,e,2)}function Dr(t,e){return ir(1+Hn.count(Xn(t),t),e,3)}function Er(t,e){return ir(t.getMilliseconds(),e,3)}function Lr(t,e){return Er(t,e)+"000"}function Ur(t,e){return ir(t.getMonth()+1,e,2)}function Or(t,e){return ir(t.getMinutes(),e,2)}function Rr(t,e){return ir(t.getSeconds(),e,2)}function jr(t){var e=t.getDay();return 0===e?7:e}function Ir(t,e){return ir(Rn.count(Xn(t)-1,t),e,2)}function Yr(t){var e=t.getDay();return e>=4||0===e?qn(t):qn.ceil(t)}function qr(t,e){return t=Yr(t),ir(qn.count(Xn(t),t)+(4===Xn(t).getDay()),e,2)}function Fr(t){return t.getDay()}function Pr(t,e){return ir(jn.count(Xn(t)-1,t),e,2)}function Br(t,e){return ir(t.getFullYear()%100,e,2)}function Hr(t,e){return ir((t=Yr(t)).getFullYear()%100,e,2)}function Vr(t,e){return ir(t.getFullYear()%1e4,e,4)}function Xr(t,e){var n=t.getDay();return ir((t=n>=4||0===n?qn(t):qn.ceil(t)).getFullYear()%1e4,e,4)}function $r(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ir(e/60|0,"0",2)+ir(e%60,"0",2)}function Wr(t,e){return ir(t.getUTCDate(),e,2)}function Zr(t,e){return ir(t.getUTCHours(),e,2)}function Gr(t,e){return ir(t.getUTCHours()%12||12,e,2)}function Jr(t,e){return ir(1+Un.count(Wn(t),t),e,3)}function Qr(t,e){return ir(t.getUTCMilliseconds(),e,3)}function Kr(t,e){return Qr(t,e)+"000"}function ti(t,e){return ir(t.getUTCMonth()+1,e,2)}function ei(t,e){return ir(t.getUTCMinutes(),e,2)}function ni(t,e){return ir(t.getUTCSeconds(),e,2)}function ri(t){var e=t.getUTCDay();return 0===e?7:e}function ii(t,e){return ir(Cn.count(Wn(t)-1,t),e,2)}function oi(t){var e=t.getUTCDay();return e>=4||0===e?Sn(t):Sn.ceil(t)}function ai(t,e){return t=oi(t),ir(Sn.count(Wn(t),t)+(4===Wn(t).getUTCDay()),e,2)}function ui(t){return t.getUTCDay()}function si(t,e){return ir(Tn.count(Wn(t)-1,t),e,2)}function li(t,e){return ir(t.getUTCFullYear()%100,e,2)}function ci(t,e){return ir((t=oi(t)).getUTCFullYear()%100,e,2)}function fi(t,e){return ir(t.getUTCFullYear()%1e4,e,4)}function hi(t,e){var n=t.getUTCDay();return ir((t=n>=4||0===n?Sn(t):Sn.ceil(t)).getUTCFullYear()%1e4,e,4)}function di(){return"+0000"}function pi(){return"%"}function gi(t){return+t}function vi(t){return Math.floor(+t/1e3)}Qn=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=ar(i),c=ur(i),f=ar(o),h=ur(o),d=ar(a),p=ur(a),g=ar(u),v=ur(u),y=ar(s),m=ur(s),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Nr,e:Nr,f:Lr,g:Hr,G:Xr,H:zr,I:Sr,j:Dr,L:Er,m:Ur,M:Or,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:gi,s:vi,S:Rr,u:jr,U:Ir,V:qr,w:Fr,W:Pr,x:null,X:null,y:Br,Y:Vr,Z:$r,"%":pi},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Wr,e:Wr,f:Kr,g:ci,G:hi,H:Zr,I:Gr,j:Jr,L:Qr,m:ti,M:ei,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:gi,s:vi,S:ni,u:ri,U:ii,V:ai,w:ui,W:si,x:null,X:null,y:li,Y:fi,Z:di,"%":pi},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:mr,e:mr,f:Ar,g:pr,G:dr,H:wr,I:wr,j:_r,L:Mr,m:yr,M:xr,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:vr,Q:Cr,s:Tr,S:br,u:lr,U:cr,V:fr,w:sr,W:hr,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:pr,Y:dr,Z:gr,"%":kr};function b(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=tr[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,e){return function(n){var r,i,o=Jn(1900,void 0,1);if(A(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Gn(Jn(o.y,0,1))).getUTCDay(),r=i>4||0===i?Tn.ceil(r):Tn(r),r=Un.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Zn(Jn(o.y,0,1))).getDay(),r=i>4||0===i?jn.ceil(r):jn(r),r=Hn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Gn(Jn(o.y,0,1)).getUTCDay():Zn(Jn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Gn(o)):Zn(o)}}function A(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in tr?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=b(n,_),_.X=b(r,_),_.c=b(e,_),w.x=b(n,w),w.X=b(r,w),w.c=b(e,w),{format:function(t){var e=b(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Qn.format,Kn=Qn.parse,Qn.utcFormat,Qn.utcParse;var yi=Array.prototype,mi=yi.map,_i=yi.slice;function wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var xi={name:"implicit"};function bi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ai(){}var ki=.7,Ci=1/ki,Ti="\\s*([+-]?\\d+)\\s*",Ni="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Si=/^#([0-9a-f]{3,8})$/,Di=new RegExp("^rgb\\("+[Ti,Ti,Ti]+"\\)$"),Ei=new RegExp("^rgb\\("+[zi,zi,zi]+"\\)$"),Li=new RegExp("^rgba\\("+[Ti,Ti,Ti,Ni]+"\\)$"),Ui=new RegExp("^rgba\\("+[zi,zi,zi,Ni]+"\\)$"),Oi=new RegExp("^hsl\\("+[Ni,zi,zi]+"\\)$"),Ri=new RegExp("^hsla\\("+[Ni,zi,zi,Ni]+"\\)$"),ji={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ii(){return this.rgb().formatHex()}function Yi(){return this.rgb().formatRgb()}function qi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Si.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fi(e):3===n?new Vi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Di.exec(t))?new Vi(e[1],e[2],e[3],1):(e=Ei.exec(t))?new Vi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Li.exec(t))?Pi(e[1],e[2],e[3],e[4]):(e=Ui.exec(t))?Pi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Oi.exec(t))?Zi(e[1],e[2]/100,e[3]/100,1):(e=Ri.exec(t))?Zi(e[1],e[2]/100,e[3]/100,e[4]):ji.hasOwnProperty(t)?Fi(ji[t]):"transparent"===t?new Vi(NaN,NaN,NaN,0):null}function Fi(t){return new Vi(t>>16&255,t>>8&255,255&t,1)}function Pi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vi(t,e,n,r)}function Bi(t){return t instanceof Ai||(t=qi(t)),t?new Vi((t=t.rgb()).r,t.g,t.b,t.opacity):new Vi}function Hi(t,e,n,r){return 1===arguments.length?Bi(t):new Vi(t,e,n,null==r?1:r)}function Vi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Xi(){return"#"+Wi(this.r)+Wi(this.g)+Wi(this.b)}function $i(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Wi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Zi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ji(t,e,n,r)}function Gi(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof Ai||(t=qi(t)),!t)return new Ji;if(t instanceof Ji)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Ji(a,u,s,t.opacity)}function Ji(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ki(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function to(t){return function(){return t}}function eo(t,e){return function(n){return t+n*e}}function no(t){return 1==(t=+t)?ro:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):to(isNaN(e)?n:e)}}function ro(t,e){var n=e-t;return n?eo(t,n):to(isNaN(t)?e:t)}bi(Ai,qi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ii,formatHex:Ii,formatHsl:function(){return Gi(this).formatHsl()},formatRgb:Yi,toString:Yi}),bi(Vi,Hi,Mi(Ai,{brighter:function(t){return t=null==t?Ci:Math.pow(Ci,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ki:Math.pow(ki,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xi,formatHex:Xi,formatRgb:$i,toString:$i})),bi(Ji,(function(t,e,n,r){return 1===arguments.length?Gi(t):new Ji(t,e,n,null==r?1:r)}),Mi(Ai,{brighter:function(t){return t=null==t?Ci:Math.pow(Ci,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ki:Math.pow(ki,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vi(Qi(t>=240?t-240:t+120,i,r),Qi(t,i,r),Qi(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const io=function t(e){var n=no(e);function r(t,e){var r=n((t=Hi(t)).r,(e=Hi(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ro(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function oo(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Hi(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var ao=oo((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Ki((n-r/e)*e,a,i,o,u)}}));oo((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Ki((n-r/e)*e,i,o,a,u)}}));function uo(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=vo(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function so(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function co(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=vo(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var fo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ho=new RegExp(fo.source,"g");function po(t,e){var n,r,i,o=fo.lastIndex=ho.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=fo.exec(t))&&(r=ho.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:lo(n,r)})),o=ho.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function go(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function vo(t,e){var n,r=typeof e;return null==e||"boolean"===r?to(e):("number"===r?lo:"string"===r?(n=qi(e))?(e=n,io):po:e instanceof qi?io:e instanceof Date?so:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?go:Array.isArray(e)?uo:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?co:lo)(t,e)}function yo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mo(t){return+t}var _o=[0,1];function wo(t){return t}function xo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function bo(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Mo(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xo(i,r),o=n(a,o)):(r=xo(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ao(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xo(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=wt(t,e,1,r)-1;return o[n](i[n](e))}}function ko(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Co(){var t,e,n,r,i,o,a=_o,u=_o,s=vo,l=wo;function c(){return r=Math.min(a.length,u.length)>2?Ao:Mo,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(u,a.map(t),lo)))(n)))},f.domain=function(t){return arguments.length?(a=mi.call(t,mo),l===wo||(l=bo(a)),c()):a.slice()},f.range=function(t){return arguments.length?(u=_i.call(t),c()):u.slice()},f.rangeRound=function(t){return u=_i.call(t),s=yo,c()},f.clamp=function(t){return arguments.length?(l=t?bo(a):wo,f):l!==wo},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function To(t,e){return Co()(t,e)}var No,zo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function So(t){if(!(e=zo.exec(t)))throw new Error("invalid format: "+t);var e;return new Do({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Do(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Eo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Lo(t){return(t=Eo(Math.abs(t)))?t[1]:NaN}function Uo(t,e){var n=Eo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}So.prototype=Do.prototype,Do.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Oo={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Uo(100*t,e)},r:Uo,s:function(t,e){var n=Eo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(No=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Eo(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ro(t){return t}var jo,Io,Yo,qo=Array.prototype.map,Fo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Po(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ro:(e=qo.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ro:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(qo.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=So(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Oo[m]||(void 0===v&&(v=12),y=!0,m="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?o:/[%p]/.test(m)?s:"",x=Oo[m],b=/[defgprs%]/.test(m);function M(t){var i,o,s,h=_,M=w;if("c"===m)M=x(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===m?Fo[8+No/3]:"")+M+(A&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var k=h.length+t.length+M.length,C=k<p?new Array(p-k+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?p-M.length:1/0),C=""),n){case"<":t=h+t+M+C;break;case"=":t=h+C+t+M;break;case"^":t=C.slice(0,k=C.length>>1)+h+t+M+C.slice(k);break;default:t=C+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=So(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Lo(e)/3))),i=Math.pow(10,-r),o=Fo[8+r/3];return function(t){return n(i*t)+o}}}}function Bo(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=bt?i*=10:o>=Mt?i*=5:o>=At&&(i*=2),e<t?-i:i}(t,e,n);switch((r=So(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Lo(e)/3)))-Lo(Math.abs(t)))}(o,a))||(r.precision=i),Yo(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lo(e)-Lo(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Lo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Io(r)}function Ho(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=kt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Bo(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=kt(u,s,n))>0?r=kt(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=kt(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,e(i)),t},t}function Vo(){var t=To(wo,wo);return t.copy=function(){return ko(t,Vo())},wi.apply(t,arguments),Ho(t)}function Xo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $o(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wo(t){return t<0?-t*t:t*t}function Zo(t){var e=t(wo,wo),n=1;function r(){return 1===n?t(wo,wo):.5===n?t($o,Wo):t(Xo(n),Xo(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Ho(e)}function Go(){var t=Zo(Co());return t.copy=function(){return ko(t,Go()).exponent(t.exponent())},wi.apply(t,arguments),t}!function(t){jo=Po(t),Io=jo.format,Yo=jo.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});const Jo=Object.assign({},{timeParse:Kn,max:Ct,range:function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},scaleSqrt:function(){return Go.apply(null,arguments).exponent(.5)},nest:function(){var t,e,n,r=[],i=[];function o(n,i,a,u){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,l,c,f=-1,h=n.length,d=r[i++],p=xe(),g=a();++f<h;)(c=p.get(s=d(l=n[f])+""))?c.push(l):p.set(s,[l]);return p.each((function(t,e){u(g,e,o(t,i,a,u))})),g}function a(t,n){if(++n>r.length)return t;var o,u=i[n-1];return null!=e&&n>=r.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=u?o.sort((function(t,e){return u(t.key,e.key)})):o}return n={object:function(t){return o(t,0,be,Me)},map:function(t){return o(t,0,Ae,ke)},entries:function(t){return a(o(t,0,Ae,ke),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}}),Qo=t=>Jo.nest().key((t=>t.properties&&t.properties.source_no)).rollup((t=>t.length)).object(t);function Ko(t,e,n){var r=new Je;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}var ta=Ie("start","end","cancel","interrupt"),ea=[];function na(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,c,f,h;if(1!==n.state)return s();for(l in i)if((h=i[l]).name===n.name){if(3===h.state)return Ko(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Ko((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function u(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Qe(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:ta,tween:ea,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ra(t,e){var n=oa(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ia(t,e){var n=oa(t,e);if(n.state>3)throw new Error("too late; already running");return n}function oa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function aa(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var ua,sa,la,ca,fa=180/Math.PI,ha={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function da(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*fa,skewX:Math.atan(s)*fa,scaleX:a,scaleY:u}}function pa(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:lo(t,i)},{i:s-2,x:lo(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:lo(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:lo(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:lo(t,n)},{i:u-2,x:lo(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var ga=pa((function(t){return"none"===t?ha:(ua||(ua=document.createElement("DIV"),sa=document.documentElement,la=document.defaultView),ua.style.transform=t,t=la.getComputedStyle(sa.appendChild(ua),null).getPropertyValue("transform"),sa.removeChild(ua),da(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),va=pa((function(t){return null==t?ha:(ca||(ca=document.createElementNS("http://www.w3.org/2000/svg","g")),ca.setAttribute("transform",t),(t=ca.transform.baseVal.consolidate())?da((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ha)}),", ",")",")");function ya(t,e){var n,r;return function(){var i=ia(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function ma(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ia(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function _a(t,e,n){var r=t._id;return t.each((function(){var t=ia(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return oa(t,r).value[e]}}function wa(t,e){var n;return("number"==typeof e?lo:e instanceof qi?io:(n=qi(e))?(e=n,io):po)(t,e)}function xa(t){return function(){this.removeAttribute(t)}}function ba(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ma(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Aa(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ka(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttribute(t)}}function Ca(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Ta(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Na(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function za(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Na(t,i)),n}return i._value=e,i}function Sa(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ta(t,i)),n}return i._value=e,i}function Da(t,e){return function(){ra(this,t).delay=+e.apply(this,arguments)}}function Ea(t,e){return e=+e,function(){ra(this,t).delay=e}}function La(t,e){return function(){ia(this,t).duration=+e.apply(this,arguments)}}function Ua(t,e){return e=+e,function(){ia(this,t).duration=e}}function Oa(t,e){if("function"!=typeof e)throw new Error;return function(){ia(this,t).ease=e}}function Ra(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ra:ia;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var ja=dt.prototype.constructor;function Ia(t){return function(){this.style.removeProperty(t)}}function Ya(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qa(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ya(t,o,n)),r}return o._value=e,o}function Fa(t){return function(e){this.textContent=t.call(this,e)}}function Pa(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Fa(r)),e}return r._value=t,r}var Ba=0;function Ha(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Va(t){return dt().transition(t)}function Xa(){return++Ba}var $a=dt.prototype;Ha.prototype=Va.prototype={constructor:Ha,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=o(t));for(var r=this._groups,i=r.length,a=new Array(i),u=0;u<i;++u)for(var s,l,c=r[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,na(h[d],e,n,d,h,oa(s,n)));return new Ha(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],f=c.length,h=0;h<f;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),g=oa(l,n),v=0,y=p.length;v<y;++v)(d=p[v])&&na(d,e,n,v,p,g);o.push(p),a.push(l)}return new Ha(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ha(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new Ha(a,this._parents,this._name,this._id)},selection:function(){return new ja(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Xa(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=oa(a,e);na(a,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ha(r,this._parents,t,n)},call:$a.call,nodes:$a.nodes,node:$a.node,size:$a.size,empty:$a.empty,each:$a.each,on:function(t,e){var n=this._id;return arguments.length<2?oa(this.node(),n).on.on(t):this.each(Ra(n,t,e))},attr:function(t,e){var n=v(t),r="transform"===n?va:wa;return this.attrTween(t,"function"==typeof e?(n.local?Ca:ka)(n,r,_a(this,"attr."+t,e)):null==e?(n.local?ba:xa)(n):(n.local?Aa:Ma)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=v(t);return this.tween(n,(r.local?za:Sa)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ga:wa;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=T(this,t),a=(this.style.removeProperty(t),T(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ia(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=T(this,t),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=T(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u))}}(t,r,_a(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var s=ia(this,t),l=s.on,c=null==s.value[a]?o||(o=Ia(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=T(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,qa(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(_a(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Pa(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=oa(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ya:ma)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Da:Ea)(e,t)):oa(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?La:Ua)(e,t)):oa(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Oa(e,t)):oa(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};n.each((function(){var n=ia(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),n.on=e}))}))}};var Wa={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Za(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Wa.time=Ze(),Wa;return n}dt.prototype.interrupt=function(t){return this.each((function(){aa(this,t)}))},dt.prototype.transition=function(t){var e,n;t instanceof Ha?(e=t._id,t=t._name):(e=Xa(),(n=Wa).time=Ze(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&na(a,t,e,l,u,n||Za(a,e));return new Ha(r,this._parents,t,e)};const Ga=Object.assign({},{select:pt,selectAll:gt,transition:Va}),Ja=Ga.select("body").append("tooltip_div").attr("class","tooltip").style("opacity",0).style("display","none"),Qa=t=>{if(void 0!==t.properties){let e=Ga.select("#language").node().value,n={valueLabel:{ro:"cazuri legate",en:"clustered cases"},cazulLabel:{ro:"Cazul",en:"Case"},maleLabel:{ro:"Brbat",en:"Male"},femaleLabel:{ro:"Femeie",en:"Female"},unspecLabel:{ro:"Gen nespecificat",en:"Unspecified gender"},statusLabel:{ro:"Stare",en:"Status"},releasedLabel:{ro:"vindecat",en:"released"},confirmedLabel:{ro:"confirmat",en:"confirmed"},deceasedLabel:{ro:"deces",en:"deceased"},confdateLabel:{ro:"Data confirmrii",en:"Confirmation date"},recoverydateLabel:{ro:"Data recuperrii",en:"Recovery date"},infectionCountryLabel:{ro:"ara de infectare",en:"Country of infection"},detailsLabel:{ro:"Detalii",en:"Details"},aiciLabel:{ro:"aici",en:"here"}},r=t.infected_persons?t.infected_persons+" "+n.valueLabel[e]+".<br />":"",i=("Brbat"===t.properties.gender?n.maleLabel[e]:"Femeie"===t.properties.gender?n.femaleLabel[e]:n.unspecLabel[e],null!=t.properties.age&&0!=t.properties.age&&t.properties.age,null!=t.properties.county&&""!=t.properties.county?", "+t.properties.county:""),o=null!=t.properties.status?n.statusLabel[e]+": "+("Vindecat"===t.properties.status?n.releasedLabel[e]:"Confirmat"===t.properties.status?n.confirmedLabel[e]:n.deceasedLabel[e])+".<br />":"",a=null!==t.properties.diagnostic_date?n.confdateLabel[e]+": "+t.properties.diagnostic_date+".<br />":"",u=null!==t.properties.healing_date?n.recoverydateLabel[e]+": "+t.properties.healing_date+".<br />":"",s=null!==t.properties.country_of_infection&&"Romnia"!==t.properties.country_of_infection&&"Romania"!==t.properties.country_of_infection?n.infectionCountryLabel[e]+": "+t.properties.country_of_infection+".<br />":"",l=null!==t.properties.reference&&""!==t.properties.reference?n.detailsLabel[e]+': <a href="'+t.properties.reference+'" target= "_blank">'+n.aiciLabel[e]+"</a>":"";return"<b>"+n.cazulLabel[e]+" x</b>"+i+".<br />"+r+o+a+u+s+l}return t.name};var Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu=function(t){return t},eu=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},nu=function(t,e){t.each((function(){for(var t,n=pt(this),r=n.text().split(/\s+/).reverse(),i=[],o=(n.attr("y"),parseFloat(n.attr("dy"))||0),a=n.text(null).append("tspan").attr("x",0).attr("dy",o+"em");t=r.pop();)i.push(t),a.text(i.join(" ")),a.node().getComputedTextLength()>e&&i.length>1&&(i.pop(),a.text(i.join(" ")),i=[t],a=n.append("tspan").attr("x",0).attr("dy",1.2+o+"em").text(t))}))},ru={d3_drawShapes:function(t,e,n,r,i,o){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",i):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",o)},d3_addText:function(t,e,n,r,i){e.append("text").attr("class",r+"label");var o=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(tu);return i&&t.selectAll("g."+r+"cell text."+r+"label").call(nu,i),o},d3_calcType:function(t,e,n,r,i,o){var a=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var i=t.invertExtent(r);return e(i[0])+" "+n+" "+e(i[1])}));return{data:t.range(),labels:r,feature:tu}}(t,i,o):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(e-1),a=0;a<e;a++)r.push(i[0]+a*o);var u=r.map(n);return{data:r,labels:u,feature:function(e){return t(e)}}}(t,n,i):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),u=t.range&&t.range()||t.domain();return a.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===e?"undefined":Ka(e))){if(0===e.length)return t;for(var o=e.length;o<t.length;o++)e.push(t[o]);return e}if("function"==typeof e){for(var a=[],u=t.length,s=0;s<u;s++)a.push(e({i:s,genLength:u,generatedLabels:t,domain:n,range:r,labelDelimiter:i}));return a}return t}(a.labels,r,t.domain(),u,o),e&&(a.labels=eu(a.labels),a.data=eu(a.data)),a},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),i=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==i.indexOf(t)})),t},d3_placement:function(t,e,n,r,i,o){e.attr("transform",n),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",o)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(nu,r);var i=t.select("."+n+"legendCells"),o=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],a=-i.nodes().map((function(t){return t.getBBox().x}))[0];i.attr("transform","translate("+a+","+o+")")}},d3_defaultLocale:{format:Io,formatPrefix:Yo},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function iu(){var t=Vo(),e="rect",n=15,r=15,i=10,o=2,a=[5],u=void 0,s=[],l="",c=!1,f="",h=ru.d3_defaultLocale,d=ru.d3_defaultFormatSpecifier,p=10,g="middle",v=ru.d3_defaultDelimiter,y=void 0,m="vertical",_=!1,w=void 0,x=void 0,b=Ie("cellover","cellout","cellclick");function M(M){var A=ru.d3_calcType(t,_,a,s,h.format(d),v);M.selectAll("g").data([t]).enter().append("g").attr("class",l+"legendCells"),u&&ru.d3_filterCells(A,u);var k=M.select("."+l+"legendCells").selectAll("."+l+"cell").data(A.data),C=k.enter().append("g").attr("class",l+"cell");C.append(e).attr("class",l+"swatch");var T=M.selectAll("g."+l+"cell "+e+"."+l+"swatch").data(A.data);ru.d3_addEvents(C,b),k.exit().transition().style("opacity",0).remove(),T.exit().transition().style("opacity",0).remove(),T=T.merge(T),ru.d3_drawShapes(e,T,r,n,i,w);var N=ru.d3_addText(M,C,A.labels,l,y);k=C.merge(k);var z=N.nodes().map((function(t){return t.getBBox()})),S=T.nodes().map((function(t){return t.getBBox()}));c?T.attr("class",(function(t){return l+"swatch "+A.feature(t)})):"line"==e?T.style("stroke",A.feature):T.style("fill",A.feature);var D,E=void 0,L=void 0,U="start"==g?0:"middle"==g?.5:1;"vertical"===m?(D=z.map((function(t,e){return Math.max(t.height,S[e].height)})),E=function(t,e){return"translate(0, "+(zt(D.slice(0,e))+e*o)+")"},L=function(t,e){return"translate( "+(S[e].width+S[e].x+p)+", "+(S[e].y+S[e].height/2+5)+")"}):"horizontal"===m&&(E=function(t,e){return"translate("+e*(S[e].width+o)+",0)"},L=function(t,e){return"translate("+(S[e].width*U+S[e].x)+",\n          "+(S[e].height+S[e].y+p+8)+")"}),ru.d3_placement(m,k,E,N,L,g),ru.d3_title(M,f,l,x),k.transition().style("opacity",1)}return M.scale=function(e){return arguments.length?(t=e,M):t},M.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(a=t),M):a},M.cellFilter=function(t){return arguments.length?(u=t,M):u},M.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,w=n),M):e},M.shapeWidth=function(t){return arguments.length?(n=+t,M):n},M.shapeHeight=function(t){return arguments.length?(r=+t,M):r},M.shapeRadius=function(t){return arguments.length?(i=+t,M):i},M.shapePadding=function(t){return arguments.length?(o=+t,M):o},M.labels=function(t){return arguments.length?(s=t,M):s},M.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(g=t),M):g},M.locale=function(t){return arguments.length?(h=Po(t),M):h},M.labelFormat=function(t){return arguments.length?(d=So(t),M):M.locale().format(d)},M.labelOffset=function(t){return arguments.length?(p=+t,M):p},M.labelDelimiter=function(t){return arguments.length?(v=t,M):v},M.labelWrap=function(t){return arguments.length?(y=t,M):y},M.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(c=t),M):c},M.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(m=t),M):m},M.ascending=function(t){return arguments.length?(_=!!t,M):_},M.classPrefix=function(t){return arguments.length?(l=t,M):l},M.title=function(t){return arguments.length?(f=t,M):f},M.titleWidth=function(t){return arguments.length?(x=t,M):x},M.textWrap=function(t){return arguments.length?(textWrap=t,M):textWrap},M.on=function(){var t=b.on.apply(b,arguments);return t===b?M:t},M}var ou=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map((function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}));!function(t){ao(t[t.length-1])}(ou);function au(){et.preventDefault(),et.stopImmediatePropagation()}function uu(t){var e=t.document.documentElement,n=pt(t).on("dragstart.drag",au,!0);"onselectstart"in e?n.on("selectstart.drag",au,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function su(t,e){var n=t.document.documentElement,r=pt(t).on("dragstart.drag",null);e&&(r.on("click.drag",au,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var lu=Math.SQRT2;function cu(t){return((t=Math.exp(t))+1/t)/2}function fu(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],l=e[2],c=u-i,f=s-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/a)/lu,n=function(t){return[i+t*c,o+t*f,a*Math.exp(lu*t*r)]};else{var d=Math.sqrt(h),p=(l*l-a*a+4*h)/(2*a*2*d),g=(l*l-a*a-4*h)/(2*l*2*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/lu,n=function(t){var e=t*r,n=cu(v),u=a/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(lu*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*c,o+u*f,a*n/cu(lu*e+v)]}}return n.duration=1e3*r,n}function hu(){for(var t,e=et;t=e.sourceEvent;)e=t;return e}function du(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function pu(t){var e=hu();return e.changedTouches&&(e=e.changedTouches[0]),du(t,e)}function gu(t,e,n){arguments.length<3&&(n=e,e=hu().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return du(t,r);return null}function vu(t){return function(){return t}}function yu(t,e,n){this.target=t,this.type=e,this.transform=n}function mu(t,e,n){this.k=t,this.x=e,this.y=n}mu.prototype={constructor:mu,scale:function(t){return 1===t?this:new mu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new mu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _u=new mu(1,0,0);function wu(){et.stopImmediatePropagation()}function xu(){et.preventDefault(),et.stopImmediatePropagation()}function bu(){return!et.ctrlKey&&!et.button}function Mu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Au(){return this.__zoom||_u}function ku(){return-et.deltaY*(1===et.deltaMode?.05:et.deltaMode?1:.002)}function Cu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tu(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}mu.prototype;var Nu=Math.PI,zu=2*Nu,Su=1e-6,Du=zu-Su;function Eu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Lu(){return new Eu}Eu.prototype=Lu.prototype={constructor:Eu,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Su)if(Math.abs(c*u-s*l)>Su&&i){var h=n-o,d=r-a,p=u*u+s*s,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((Nu-Math.acos((p+f-g)/(2*v*y)))/2),_=m/y,w=m/v;Math.abs(_-1)>Su&&(this._+="L"+(t+_*l)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+w*u)+","+(this._y1=e+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,l=e+u,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>Su||Math.abs(this._y1-l)>Su)&&(this._+="L"+s+","+l),n&&(f<0&&(f=f%zu+zu),f>Du?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>Su&&(this._+="A"+n+","+n+",0,"+ +(f>=Nu)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Uu=Lu;Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var Ou=Math.PI,Ru=2*Ou;const ju={draw:function(t,e){var n=Math.sqrt(e/Ou);t.moveTo(n,0),t.arc(0,0,n,0,Ru)}};Math.sqrt(1/3);var Iu=Math.sin(Ou/10)/Math.sin(7*Ou/10);Math.sin(Ru/10),Math.cos(Ru/10);Math.sqrt(3);Math.sqrt(3),Math.sqrt(12);function Yu(t){return function(){return t}}const qu=Object.assign({},{legendColor:iu,schemeSpectral:ou,zoom:function(){var t,e,n=bu,r=Mu,i=Tu,o=ku,a=Cu,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=fu,f=Ie("start","zoom","end"),h=500,d=0;function p(t){t.property("__zoom",Au).on("wheel.zoom",x).on("mousedown.zoom",b).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new mu(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new mu(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,e,n){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=_(t,i),a=r.apply(t,i),u=null==n?y(a):"function"==typeof n?n.apply(t,i):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,i):e,h=c(l.invert(u).concat(s/l.k),f.invert(u).concat(s/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=s/e[2];t=new mu(n,u[0]-e[0]*n,u[1]-e[1]*n)}o.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=_(this,arguments),e=this.__zoom,r=Math.max(u[0],Math.min(u[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=pu(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],aa(this),t.start()}xu(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(v(g(e,r),t.mouse[0],t.mouse[1]),t.extent,s))}function l(){t.wheel=null,t.end()}}function b(){if(!e&&n.apply(this,arguments)){var t=_(this,arguments,!0),r=pt(et.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),o=pu(this),a=et.clientX,u=et.clientY;uu(et.view),wu(),t.mouse=[o,this.__zoom.invert(o)],aa(this),t.start()}function l(){if(xu(),!t.moved){var e=et.clientX-a,n=et.clientY-u;t.moved=e*e+n*n>d}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=pu(t.that),t.mouse[1]),t.extent,s))}function c(){r.on("mousemove.zoom mouseup.zoom",null),su(et.view,t.moved),xu(),t.end()}}function M(){if(n.apply(this,arguments)){var t=this.__zoom,e=pu(this),o=t.invert(e),a=t.k*(et.shiftKey?.5:2),u=i(v(g(t,a),e,o),r.apply(this,arguments),s);xu(),l>0?pt(this).transition().duration(l).call(m,u,e):pt(this).call(p.transform,u)}}function A(){if(n.apply(this,arguments)){var e,r,i,o,a=et.touches,u=a.length,s=_(this,arguments,et.changedTouches.length===u);for(wu(),r=0;r<u;++r)o=[o=gu(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,e=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(s.taps<2&&(t=setTimeout((function(){t=null}),h)),aa(this),s.start())}}function k(){if(this.__zooming){var e,n,r,o,a=_(this,arguments),u=et.changedTouches,l=u.length;for(xu(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<l;++e)r=gu(this,u,(n=u[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],f=a.touch0[1],h=a.touch1[0],d=a.touch1[1],p=(p=h[0]-c[0])*p+(p=h[1]-c[1])*p,y=(y=d[0]-f[0])*y+(y=d[1]-f[1])*y;n=g(n,Math.sqrt(p/y)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(n,r,o),a.extent,s))}}function C(){if(this.__zooming){var t,n,r=_(this,arguments),i=et.changedTouches,o=i.length;for(wu(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),h),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=pt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",Au),t!==r?m(t,e,n):r.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n){p.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},p.scaleTo=function(t,e,n){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,u=o.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return i(v(g(o,l),a,u),t,s)}),n)},p.translateBy=function(t,e,n){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)}))},p.translateTo=function(t,e,n,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(_u.translate(u[0],u[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)}),o)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var i=et;t.sourceEvent=et,et=t;try{e.apply(n,r)}finally{et=i}}(new yu(p,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:vu(+t),p):o},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:vu(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:vu(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:vu([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],p):[u[0],u[1]]},p.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(l=+t,p):l},p.interpolate=function(t){return arguments.length?(c=t,p):c},p.on=function(){var t=f.on.apply(f,arguments);return t===f?p:t},p.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,p):Math.sqrt(d)},p},select:pt,selectAll:gt,mouse:pu,format:Io,zoomIdentity:_u,scaleOrdinal:function t(){var e=xe(),n=[],r=[],i=xi;function o(t){var o=t+"",a=e.get(o);if(!a){if(i!==xi)return i;e.set(o,a=n.push(t))}return r[(a-1)%r.length]}return o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=xe();for(var r,i,a=-1,u=t.length;++a<u;)e.has(i=(r=t[a])+"")||e.set(i,n.push(r));return o},o.range=function(t){return arguments.length?(r=_i.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(n,r).unknown(i)},wi.apply(o,arguments),o},scaleQuantile:function t(){var e,n=[],r=[],i=[];function o(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=Nt(n,t/e);return a}function a(t){return isNaN(t=+t)?e:r[wt(i,t)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,r=0,i=t.length;r<i;++r)null==(e=t[r])||isNaN(e=+e)||n.push(e);return n.sort(vt),o()},a.range=function(t){return arguments.length?(r=_i.call(t),o()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(n).range(r).unknown(e)},wi.apply(a,arguments)},symbol:function(){var t=Yu(ju),e=Yu(64),n=null;function r(){var r;if(n||(n=r=Uu()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Yu(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Yu(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},symbolCircle:ju}),Fu=t=>"ro"===t?qu.scaleOrdinal(["var(--main-confirmate)","var(--main-recuperari)","var(--main-decese)"]).domain(["Confirmat","Vindecat","Decedat"]):qu.scaleOrdinal(["var(--main-confirmate)","var(--main-recuperari)","var(--main-decese)"]).domain(["Confirmed","Discharged","Deceased"]),Pu=qu.scaleOrdinal(["#e4588c","#35d394","#ba1ea8","#4caf1c","#1848ca","#aad42b","#9b85ff","#068400","#8b2487","#97ff8b","#d60042","#00ae87","#f94740","#48d3ff","#d17300","#5ea2ff","#cfb100","#53498f","#ffe353","#325383","#86a700","#ff9eeb","#007f30","#d9b6ff","#3b5c12","#89c2ff","#964000","#00bfbb","#ff6f54","#01aac6","#ffb65d","#008857","#ff8e90","#145f36","#952e31","#fffea6","#8e3440","#5a936f","#883d0c","#ffaf81","#34a6c2","#b09764","#458a18"]).domain(["ALBA","ARAD","ARGE","BACU","BIHOR","BISTRIA-NSUD","BOTOANI","BRAOV","BRILA","BUCURETI","BUZU","CARA-SEVERIN","CLUJ","CONSTANA","COVASNA","CLRAI","DOLJ","DMBOVIA","GALAI","GIURGIU","GORJ","HARGHITA","HUNEDOARA","IALOMIA","IAI","ILFOV","NECUNOSCUT","MARAMURE","MEHEDINI","MURE","NEAM","OLT","PRAHOVA","SATU MARE","SIBIU","SUCEAVA","SLAJ","TELEORMAN","TIMI","TULCEA","VASLUI","VRANCEA","VLCEA"]),Bu=t=>"ro"===t?qu.scaleOrdinal(["var(--main-barbat)","var(--main-femeie)"]).domain(["Brbat","Femeie"]):qu.scaleOrdinal(["var(--main-barbat)","var(--main-femeie)"]).domain(["Male","Female"]),Hu=qu.scaleQuantile().domain([0,100]).range(qu.schemeSpectral[10]),Vu=()=>{qu.select("#chart").select("svg").selectAll(".nodes").transition().duration(100).attr("fill",(t=>t.is_country_of_infection?"black":t.properties?Fu("ro")(t.properties.status):"")),$u("status-legend")},Xu=(t,e,n,r,i)=>{const o=qu.select("#legend-div").append("div").attr("class",r).append("svg").attr("class","category-legend").attr("width",110).attr("height",e).attr("preserveAspectRatio","xMidYMid").attr("viewBox","-10, -10 120 "+n).attr("x",0).attr("y",0),a=iu().shape("path",qu.symbol().type(qu.symbolCircle).size(150)()).shapePadding(10).title(i).titleWidth(100).labelFormat(qu.format(".0f")).labelAlign("start").scale(t);o.call(a)},$u=t=>{qu.select(".county-legend").classed("hide",!0),qu.select(".status-legend").classed("hide",!0),qu.select(".gender-legend").classed("hide",!0),qu.select(".age-legend").classed("hide",!0),"county-legend"===t?qu.select(".county-legend").classed("hide",!1):"status-legend"===t?qu.select(".status-legend").classed("hide",!1):"gender-legend"===t?qu.select(".gender-legend").classed("hide",!1):"age-legend"===t&&qu.select(".age-legend").classed("hide",!1)},Wu=(t,e)=>{qu.select("#nRadius-value").text(t[e]),qu.select("#nRadius").property("value",t[e]),qu.select("#search-input").property("value",t[e]),qu.selectAll(".nodes").attr("r",(t=>t.r)),qu.select("#CO-"+t[e]).attr("r",(t=>2*t.r)).dispatch("mouseover")},Zu=t=>{qu.selectAll(".node-labels").classed("hidden",(e=>"string"!=typeof e.name&&t<=1.9)),qu.selectAll(".labels").classed("hidden",(e=>e.r<10/t))},Gu=qu.zoom().scaleExtent([.2,10]).on("zoom",(()=>{let t=qu.selectAll(".zoomable-group");t.attr("transform",et.transform);let e=et.transform.k;return e>.8&&(t.selectAll(".node-labels > text").attr("transform","scale("+1/e+")"),t.selectAll(".labels > text").attr("transform","scale("+1/e+")")),Zu(e)})),Ju=()=>{qu.select("#chart").select("svg").call(Gu.transform,qu.zoomIdentity.scale(.3))},Qu=Object.assign({},{select:pt,selectAll:gt}),Ku=(t,e)=>{let n,r,i=Qu.select("svg").select(".zoomable-group").append("g").attr("class","nodes-group");const o=Array.from(new Set(t.nodes.map((t=>t.source))));i.append("defs").selectAll("marker").data(o).join("marker").attr("id",(t=>`arrow-${t}`)).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill","#999").attr("d","M0,-5L10,0L0,5"),n=i.selectAll(".link").data(t.links).enter().append("g").attr("class","link");n.append("path").attr("class",(t=>`CO-links-${t.source.name}`)).classed("links",!0).attr("marker-end",(t=>`url(${new URL(`#arrow-${t.type}`,location.toString())})`)).attr("d",(t=>(t=>{const e=Math.hypot(t.target.x-t.source.x,t.target.y-t.source.y);return`\n            M${t.source.x},${t.source.y}\n            A${e},${e} 0 0,1 ${t.target.x},${t.target.y}\n        `})(t))),n.exit().remove(),r=i.selectAll(".node").data(t.nodes).enter().append("g").attr("class","node"),r.append("circle").attr("id",(t=>t.properties&&`CO-${t.properties.case_no}`)).attr("class",(t=>t.properties&&`CO-nodes-${t.properties.source_no}`)).classed("nodes",!0).attr("r",(t=>t.r)).attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).on("touchstart mouseover",(t=>((t,e)=>{let n=et.pageX-20,r=et.pageY+20,i=t.name;window.innerWidth-n<150&&(n=et.pageX-40),Ga.selectAll(".nodes").attr("r",(t=>t.r)).style("opacity",.3),Ga.selectAll(".links").style("stroke","#999").style("opacity",.3),Ga.selectAll(".node-labels > text").style("opacity",.3),Ja.transition().duration(200).style("max-width","160px").style("opacity",.9),Ga.select("#CO-"+i).attr("r",(t=>2*t.r)).style("opacity",1),Ga.selectAll(".CO-labels-self-"+i).style("opacity","1"),Ga.selectAll(".CO-links-"+i).style("stroke","firebrick").transition().duration(200).attr("stroke-dashoffset",0).style("opacity",1).on("end",((t,e)=>{0===e&&(Ga.selectAll(".CO-nodes-"+i).style("opacity","1"),Ga.selectAll(".CO-labels-"+i).style("opacity","1"))}));let o=e.indexOf(i);Ga.select("#nRadius-value").text(i),Ga.select("#nRadius").property("value",o),Ja.html(Qa(t)).style("left",n+"px").style("top",r+"px").style("display",null)})(t,e))).on("dblclick",(t=>(t=>{let e=qu.select("#chart").select("svg");et.stopPropagation(),e.transition().duration(750).call(Gu.transform,qu.zoomIdentity.scale(2).translate(-t.x,-t.y).translate(vn/2,yn/2),qu.mouse(e.node()))})(t))),r.append("g").classed("node-labels",!0).append("text").attr("class",(t=>t.properties&&`CO-labels-${t.properties.source_no} CO-labels-self-${t.properties.case_no}`)).attr("x",8).attr("y","0.31em").text((t=>t.name)).clone(!0).lower(),Qu.selectAll(".node-labels").attr("transform",(t=>`translate(${t.x},${t.y})`)),r.exit().remove()};const ts=Object.assign({},{select:pt,selectAll:gt,max:Ct},t,e);r.resolve("/","src/data");let es,ns,rs,is,os,as,us,ss={nodes:[],links:[]},ls=!1,cs=!0,fs=!0,hs=ts.select("#language").node().value;ts.select("#show-info").on("click",(()=>cs=((t,e)=>(!0===t?(Ja.transition().duration(200).style("max-width","100%").style("opacity",.9),Ja.html((t=>"ro"===t?"<strong>Relaia cazurilor confirmate.<br/>\n  Vezi ci oameni au fost infectai de fiecare persoan.</strong> n graficul de mai jos, fiecare cerc reprezint o persoan, mrimea lui este proporional cu ci oameni a infectat \n(= s-au aflat n zona unde virusul a fost rspndit de persoana infectat) iar culoarea reprezint fie starea (confirmat, eliberat din spital, decedat),\njudeul, genul sau vrsta.<br/>\n<strong>Vezi cum sunt legai unul de cellalt oamenii infectai.</strong> Cnd o persoan s-a infectat i a fost cunoscut sursa, acest lucru a fost considerat drept conexiune,\ni reprezentat drept o linie curb.<br/>\n<strong>Vezi unde ar putea aprea focare.</strong> Gruprile de oameni, create pe baza conexiunilor, ar putea scoate la iveal posibile focare i ne-ar putea ajuta s descoperim\nlocurile i circumstanele care pot conduce la focare.<br/>\n<strong>Exploreaz.</strong> Treci pe deasupra fiecrei persoane pentru a vedea cu ci oameni a intrat n contact, mai multe detalii, i link-ul web ctre articolul original\ndin media. Selecteaz alt tem pentru a colora toi oamenii n funcie de jude, gen, localizare sau stare. Zoom nuntru pentru a afia etichele, i pan\npentru a naviga. Schimb limba (romn sau englez) dup preferine.<br/><br/>\n  <strong>Date</strong> de pe covid19.geo-spatial.org. Doar cazurile pentru care se cunoate sursa de infectare.<br/>\n  <strong>Ultima actualizare a datelor:</strong> 30 iulie 2020.":"<strong>Relationship between confirmed cases.<br/>\n  See how many people got infected by each person.</strong> In the visualization below, each circle represents\na person, its size is proportional to how many people has infected (= were found in the area where the virus was spread by an infected person) and the color\nrepresents either status (confirmed, discharged from the hospital, deceased), county, gender or age.<br/>\n  <strong>See how the infected people relate to each other.</strong> When a person was infected and the source was known, that was considered a connection, and was represented\nas a curved line.<br/>\n  <strong>See where outbreaks could occur.</strong> The clusters of people, created based on the connections, could reveal possible hot spots and could help us discover the\nlocations and the circumstances that can lead to outbreaks.<br/>\n  <strong>Explore.</strong> Hover over each person to see how many people got in contact with,  more details, and the link to the original media article. Select another theme\nto color all people by county, gender, location or status. Zoom in to reveal labels, and pan to navigate. Switch the language (Romanian or English) as desired.<br/><br/>\n  <strong>Data</strong> from covid19.geo-spatial.org. Only cases with known infection source.<br/>\n  <strong>The last data update:</strong> 30th of July 2020.")(e)).style("left","50px").style("top","50px").style("margin-left","auto").style("margin-right","auto").style("display",null),t=!1):(Ja.transition().duration(200).style("opacity",0),t=!0),t))(cs,hs))),ts.select("#show-info").dispatch("click"),(()=>{let t,e=document.getElementById("spinner");t=new fn({lines:9,length:4,width:5,radius:12,scale:1,corners:1,color:"#f40000",opacity:.25,rotate:0,direction:1,speed:1,trail:30,fps:20,zIndex:2e9,className:"spinner",shadow:!1,hwaccel:!1,position:"absolute"}).spin(e);const n=[ts.json("https://covid19.geo-spatial.org/api/statistics/getCaseRelations")];Promise.all(n).then((t=>{rs=t[0],r(),i(),o()})).catch((t=>console.log(t)));const r=()=>{ns=rs.data.nodes.filter((t=>null!==t.properties.country_of_infection&&"Romnia"!==t.properties.country_of_infection&&"Romania"!==t.properties.country_of_infection)),ss.nodes=rs.data.nodes,ss.links=rs.data.links,ss.nodes=ss.nodes.concat(Array.from(new Set(ns.map((t=>t.properties.country_of_infection))),(t=>({name:t})))),ss.links=ss.links.concat(ns.map((t=>({target:t.name,source:t.properties.country_of_infection})))),ss.nodes=(t=>{let e=Jo.timeParse("%d-%m-%Y"),n=[],r=Qo(t),i=Jo.scaleSqrt().domain([0,Jo.max(Object.values(r))]).range([5,25]);return t.forEach((t=>{void 0!==t.properties?(t.date=e(t.properties.diagnostic_date).getTime(),t.name=+t.name,t.infected_persons=r[t.properties.case_no]||0,t.r=i(t.infected_persons||1)):t.r=3})),t.sort(((t,e)=>t.date-e.date)),Jo.nest().key((t=>t.properties&&t.properties.diagnostic_date)).entries(t).forEach((t=>{let e=[...t.values].sort(((t,e)=>t.name-e.name)),r=e.map((t=>(t.dayOrder=e.indexOf(t)+1,t)));n.push(...r)})),n})(ss.nodes),is=Array.from(new Set(ss.nodes.map((t=>t.properties?+t.properties.case_no:""))))},i=()=>{ts.forceSimulation(ss.nodes).force("link",ts.forceLink(ss.links).id((t=>t.name))).force("charge",ts.forceManyBody()).force("x",ts.forceX()).force("y",ts.forceY()).alphaDecay([.02]).stop().tick(120),es=ts.select("#chart").append("svg").attr("class","chart-group").attr("preserveAspectRatio","xMinYMid").attr("width",mn).attr("height",_n).attr("viewBox",[-vn/2,-yn/2,vn,yn]),es.append("g").attr("class","zoomable-group").attr("transform",`translate(${dn}, ${hn})`)},o=()=>{Xu(Fu(hs),300,300,"status-legend",(t=>"ro"===t?"Stare":"Status")(hs)),Xu(Pu,900,1100,"county-legend",(t=>"ro"===t?"Jude":"County")(hs)),Xu(Bu(hs),200,200,"gender-legend",(t=>"ro"===t?"Gen":"Gender")(hs)),Xu(Hu,400,400,"age-legend",(t=>"ro"===t?"Vrst":"Age")(hs)),ts.select("#zoom-in").on("click",(()=>es.transition().call(Gu.scaleBy,2))),ts.select("#zoom-out").on("click",(()=>es.transition().call(Gu.scaleBy,.5))),ts.select("#reset-zoom").on("click",(()=>Ju())),es.call(Gu),Ju(),ts.select("#color-counties").on("click",(()=>(qu.select("#chart").select("svg").selectAll(".nodes").transition().duration(100).attr("fill",(t=>t.is_country_of_infection?"black":t.properties?Pu(t.properties.county):"")),void $u("county-legend")))),ts.select("#color-status").on("click",(()=>Vu())),ts.select("#color-gender").on("click",(()=>(qu.select("#chart").select("svg").selectAll(".nodes").transition().duration(100).attr("fill",(t=>t.is_country_of_infection?"black":t.properties?null===t.properties.gender?"var(--main-null)":Bu("ro")(t.properties.gender):"")),void $u("gender-legend")))),ts.select("#color-age").on("click",(()=>(qu.select("#chart").select("svg").selectAll(".nodes").transition().duration(100).attr("fill",(t=>t.is_country_of_infection?"black":t.properties?null===t.properties.age?"var(--main-null)":Hu(t.properties.age):"")),void $u("age-legend"))));ts.select("#legend-div").classed("hide",!0),ts.select("#toggle-legend").on("click",(()=>{!0===ls?(ts.select("#legend-div").classed("hide",!0),ls=!1):(ts.select("#legend-div").classed("hide",!1),ls=!0)})),ts.select("#search-case").on("click",(()=>{!0===fs?(ts.select("#search-input").classed("hide",!1),fs=!1):(ts.select("#search-input").classed("hide",!0),fs=!0)})),ts.select("#search-input").on("input",(function(){var t;is.includes(+this.value)&&(t=+this.value,Ga.select("#CO-"+t).dispatch("mouseover"))})),ts.select("#play-cases").on("click",(()=>{ts.select("#play-cases").classed("hide",!0),ts.select("#pause-cases").classed("hide",!1),e()})),ts.select("#pause-cases").on("click",(()=>{ts.select("#pause-cases").classed("hide",!0),ts.select("#play-cases").classed("hide",!1),n()}));const e=()=>{es.call(Gu.scaleTo,.5),us=ts.select("#nRadius").node().value,+us==+is.length-1&&(us=0),os=setInterval((()=>{as=is[us],void 0!==as?(Wu(is,us),us++):us=0}),200)},n=()=>{clearInterval(os)};ts.select("#clear-tooltip").on("click",(()=>{Ga.selectAll(".nodes").style("opacity",1),Ga.selectAll(".link").style("opacity",1),Ga.selectAll(".node-labels > text").style("opacity","1"),Ga.selectAll(".nodes").attr("r",(t=>t.r)),Ja.transition().duration(200).style("opacity",0)})),ts.select("#nRadius").on("input",(function(){Wu(is,+this.value)})),ts.select("#nRadius").property("max",is.length-1),Wu(is,is.length-1),Ku(ss,is),Vu(),Zu(1),t.stop(),ts.select("tooltip_div").classed("tooltip-abs",!0),ts.select("#CO-"+ts.max(is)).attr("r",(t=>2*t.r))}}).call(void 0)})()})();
//# sourceMappingURL=app.640404ccc3871710271c.js.map